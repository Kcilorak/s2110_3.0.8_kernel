/* Copyright (c) 2011, Code Aurora Forum. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 */

#include "msm_sensor.h"
#define SENSOR_NAME "mt9m114"
#define PLATFORM_DRIVER_NAME "msm_camera_mt9m114"
#define mt9m114_obj mt9m114_##obj

/* Sysctl registers */
#define MT9M114_COMMAND_REGISTER                0x0080
#define MT9M114_COMMAND_REGISTER_APPLY_PATCH    (1 << 0)
#define MT9M114_COMMAND_REGISTER_SET_STATE      (1 << 1)
#define MT9M114_COMMAND_REGISTER_REFRESH        (1 << 2)
#define MT9M114_COMMAND_REGISTER_WAIT_FOR_EVENT (1 << 3)
#define MT9M114_COMMAND_REGISTER_OK             (1 << 15)

DEFINE_MUTEX(mt9m114_mut);
static struct msm_sensor_ctrl_t mt9m114_s_ctrl;
/*BEGIN Chaoyen_Wu@pegatron[2012.3.19][Add front camera 1.3M resolution res setting]*/
static struct msm_camera_i2c_reg_conf mt9m114_fullsize_setting[] = {
	{0x098E, 0x4868,}, 	// LOGICAL_ADDRESS_ACCESS [CAM_OUTPUT_WIDTH]
	{0xC868, 0x0500,}, 	// CAM_OUTPUT_WIDTH
	{0xC86A, 0x03C0,}, 	// CAM_OUTPUT_HEIGHT
	{0xC85C, 0x03,MSM_CAMERA_I2C_BYTE_DATA},	// CAM_CROP_CROPMODE
	{0xC854, 0x0000,}, 	// CAM_CROP_WINDOW_XOFFSET
	{0xC856, 0x0000,}, 	// CAM_CROP_WINDOW_YOFFSET
	{0xC858, 0x0500,}, 	// CAM_CROP_WINDOW_WIDTH
	{0xC85A, 0x03C0,}, 	// CAM_CROP_WINDOW_HEIGHT
	{0xC88C, 0x1E02,}, 	// CAM_AET_MAX_FRAME_RATE
	{0xC88E, 0x0F00,}, 	// CAM_AET_MIN_FRAME_RATE
	{0xC914, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XSTART
	{0xC916, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_YSTART
	{0xC918, 0x04FF,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XEND
	{0xC91A, 0x03BF,}, 	// CAM_STAT_AWB_CLIP_WINDOW_YEND
	{0xC91C, 0x0000,}, 	// CAM_STAT_AE_INITIAL_WINDOW_XSTART
	{0xC91E, 0x0000,}, 	// CAM_STAT_AE_INITIAL_WINDOW_YSTART
	{0xC920, 0x00FF,}, 	// CAM_STAT_AE_INITIAL_WINDOW_XEND
	{0xC922, 0x00BF,}, 	// CAM_STAT_AE_INITIAL_WINDOW_YEND
	{0xDC00, 0x28,MSM_CAMERA_I2C_BYTE_DATA},	// SYSMGR_NEXT_STATE
	{0x0080, 0x8002,}, 	// COMMAND_REGISTER
};
/*END Chaoyen_Wu@pegatron[2012.3.19][Add front camera 1.3M resolution res setting]*/

static struct msm_camera_i2c_reg_conf mt9m114_720p_settings[] = {
/*BEGIN Chaoyen_Wu@pegatron[2012.3.16][Enable front camera support 1280*960 resolution]*/	
#if 0	
	{0xdc00, 0x50, MSM_CAMERA_I2C_BYTE_DATA, MSM_CAMERA_I2C_CMD_WRITE},
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},
	{MT9M114_COMMAND_REGISTER, (MT9M114_COMMAND_REGISTER_OK |
		MT9M114_COMMAND_REGISTER_SET_STATE), MSM_CAMERA_I2C_WORD_DATA,
		MSM_CAMERA_I2C_CMD_WRITE},
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},
	{0xDC01, 0x52, MSM_CAMERA_I2C_BYTE_DATA, MSM_CAMERA_I2C_CMD_POLL},

	{0x098E, 0, MSM_CAMERA_I2C_BYTE_DATA},
	{0xC800, 0x007C,},/*y_addr_start = 124*/
	{0xC802, 0x0004,},/*x_addr_start = 4*/
	{0xC804, 0x0353,},/*y_addr_end = 851*/
	{0xC806, 0x050B,},/*x_addr_end = 1291*/
	{0xC808, 0x02DC,},/*pixclk = 48000000*/
	{0xC80A, 0x6C00,},/*pixclk = 48000000*/
	{0xC80C, 0x0001,},/*row_speed = 1*/
	{0xC80E, 0x00DB,},/*fine_integ_time_min = 219*/
	{0xC810, 0x05BD,},/*fine_integ_time_max = 1469*/
	{0xC812, 0x03E8,},/*frame_length_lines = 1000*/
	{0xC814, 0x0640,},/*line_length_pck = 1600*/
	{0xC816, 0x0060,},/*fine_correction = 96*/
	{0xC818, 0x02D3,},/*cpipe_last_row = 723*/
	{0xC826, 0x0020,},/*reg_0_data = 32*/
	{0xC834, 0x0000,},/*sensor_control_read_mode = 0*/
	{0xC854, 0x0000,},/*crop_window_xoffset = 0*/
	{0xC856, 0x0000,},/*crop_window_yoffset = 0*/
	{0xC858, 0x0500,},/*crop_window_width = 1280*/
	{0xC85A, 0x03C0,},/*crop_window_height = 960*/
	{0xC85C, 0x03, MSM_CAMERA_I2C_BYTE_DATA},  /*crop_cropmode = 3*/
	{0xC868, 0x0500,},/*output_width = 1280*/
	{0xC86A, 0x03C0,},/*output_height = 960*/
	{0xC878, 0x00, MSM_CAMERA_I2C_BYTE_DATA},  /*aet_aemode = 0*/
	{0xC88C, 0x1E00,},/*aet_max_frame_rate = 7680*/
	{0xC88E, 0x1E00,},/*aet_min_frame_rate = 7680*/
	{0xC914, 0x0000,},/*stat_awb_window_xstart = 0*/
	{0xC916, 0x0000,},/*stat_awb_window_ystart = 0*/
	{0xC918, 0x04FF,},/*stat_awb_window_xend = 1279*/
	{0xC91A, 0x02CF,},/*stat_awb_window_yend = 719*/
	{0xC91C, 0x0000,},/*stat_ae_window_xstart = 0*/
	{0xC91E, 0x0000,},/*stat_ae_window_ystart = 0*/
	{0xC920, 0x00FF,},/*stat_ae_window_xend = 255*/
	{0xC922, 0x008F,},/*stat_ae_window_yend = 143*/
#endif	
/*END Chaoyen_Wu@pegatron[2012.3.16][Enable front camera support 1280*960 resolution]*/
};
/*BEGIN Chaoyen_Wu@pegatron[2012.3.13][tune IQ performance REV5]*/
static struct msm_camera_i2c_reg_conf mt9m114_recommend_settings[] = {
	//[Initialization]	
	// Reset 
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},		// Polling R0x0080[1] till "0".
	// load= errata item 2
	{0x301A, 0x0234,}, 	// RESET_REGISTER
	
	// [Step2-PLL_Timing]
	// LOAD=PLL_settings
	{0x098E, 0x0000,}, 	// LOGICAL_ADDRESS_ACCESS
	{0xC97E, 0x01, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_SYSCTL_PLL_ENABLE
	{0xC980, 0x0120,}, 	// CAM_SYSCTL_PLL_DIVIDER_M_N
	{0xC982, 0x0700,}, 	// CAM_SYSCTL_PLL_DIVIDER_P
	
	// LOAD=Timing_settings   
	{0x098E, 0x0000,},   // set XDMA to logical addressing
	{0xC800, 0x0004,}, 	// CAM_SENSOR_CFG_Y_ADDR_START
	{0xC802, 0x0004,}, 	// CAM_SENSOR_CFG_X_ADDR_START
	{0xC804, 0x03CB,}, 	// CAM_SENSOR_CFG_Y_ADDR_END
	{0xC806, 0x050B,}, 	// CAM_SENSOR_CFG_X_ADDR_END
	// data length is double words
	{0xC808, 0x02DC,},
	{0xC80c, 0X6C00,}, 	// CAM_SENSOR_CFG_PIXCLK
	//
	{0xC80C, 0x0001,}, 	// CAM_SENSOR_CFG_ROW_SPEED
	{0xC80E, 0x00DB,}, 	// CAM_SENSOR_CFG_FINE_INTEG_TIME_MIN
	{0xC810, 0x05B3,}, 	// CAM_SENSOR_CFG_FINE_INTEG_TIME_MAX
	{0xC812, 0x03EE,}, 	// CAM_SENSOR_CFG_FRAME_LENGTH_LINES
	{0xC814, 0x0636,}, 	// CAM_SENSOR_CFG_LINE_LENGTH_PCK
	{0xC816, 0x0060,}, 	// CAM_SENSOR_CFG_FINE_CORRECTION
	{0xC818, 0x03C3,}, 	// CAM_SENSOR_CFG_CPIPE_LAST_ROW
	{0xC834, 0x0000,}, 	// CAM_SENSOR_CONTROL_READ_MODE
	{0xC854, 0x0000,}, 	// CAM_CROP_WINDOW_XOFFSET
	{0xC856, 0x0000,}, 	// CAM_CROP_WINDOW_YOFFSET
	{0xC858, 0x0500,}, 	// CAM_CROP_WINDOW_WIDTH
	{0xC85A, 0x03C0,}, 	// CAM_CROP_WINDOW_HEIGHT
	{0xC85C, 0x03, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_CROP_CROPMODE
	{0xC868, 0x0500,}, 	// CAM_OUTPUT_WIDTH
	{0xC86A, 0x03C0,}, 	// CAM_OUTPUT_HEIGHT
	{0xC88C, 0x1E02,}, 	// CAM_AET_MAX_FRAME_RATE
	// Changed to varied frame rate to 7.5~30fps
	{0xC88E, 0x0780,}, 	// CAM_AET_MIN_FRAME_RATE
	//
	{0xC914, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XSTART
	{0xC916, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_YSTART
	{0xC918, 0x04FF,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XEND
	{0xC91A, 0x03BF,}, 	// CAM_STAT_AWB_CLIP_WINDOW_YEND
	{0xC91C, 0x0000,}, 	// CAM_STAT_AE_INITIAL_WINDOW_XSTART
	{0xC91E, 0x0000,}, 	// CAM_STAT_AE_INITIAL_WINDOW_YSTART
	{0xC920, 0x00FF,}, 	// CAM_STAT_AE_INITIAL_WINDOW_XEND
	{0xC922, 0x00BF,}, 	// CAM_STAT_AE_INITIAL_WINDOW_YEND
	{0xE801, 0x0000,},	// AUTO_BINNING_MODE
	
	//[Step3-Recommended]
	//[Sensor optimization]
	{0x316A, 0x8270,}, 	// DAC_TXLO_ROW
	{0x316C, 0x8270,}, 	// DAC_TXLO
	{0x3ED0, 0x2305,}, 	// DAC_LD_4_5
	{0x3ED2, 0x77CF,}, 	// DAC_LD_6_7
	{0x316E, 0x8202,}, 	// DAC_ECL
	{0x3180, 0x87FF,}, 	// DELTA_DK_CONTROL
	{0x30D4, 0x6080,}, 	// COLUMN_CORRECTION
	{0xA802, 0x0008,}, 	// AE_TRACK_MODE
	
	// LOAD=Errata item 1
	{0x3E14, 0xFF39,}, 	// SAMP_COL_PUP2
	
	// PGA parameter and APGA
	//[Step4-APGA]
	// Lens register settings for A-1040SOC (MT9M114) REV2
	
	// 02162012, Rev3, Alias
	{0x3640, 0x0330,}, 	// P_G1_P0Q0
	{0x3642, 0x406B,}, 	// P_G1_P0Q1
	{0x3644, 0x1D71,}, 	// P_G1_P0Q2
	{0x3646, 0xDD0D,}, 	// P_G1_P0Q3
	{0x3648, 0x068E,}, 	// P_G1_P0Q4
	{0x364A, 0x00D0,}, 	// P_R_P0Q0
	{0x364C, 0x6DEB,}, 	// P_R_P0Q1
	{0x364E, 0x41F1,}, 	// P_R_P0Q2
	{0x3650, 0xADAD,}, 	// P_R_P0Q3
	{0x3652, 0x1D2F,}, 	// P_R_P0Q4
	{0x3654, 0x0130,}, 	// P_B_P0Q0
	{0x3656, 0x53EB,}, 	// P_B_P0Q1
	{0x3658, 0x0BD1,}, 	// P_B_P0Q2
	{0x365A, 0xE54B,}, 	// P_B_P0Q3
	{0x365C, 0x762D,}, 	// P_B_P0Q4
	{0x365E, 0x0150,}, 	// P_G2_P0Q0
	{0x3660, 0x7D6A,}, 	// P_G2_P0Q1
	{0x3662, 0x2191,}, 	// P_G2_P0Q2
	{0x3664, 0xE58D,}, 	// P_G2_P0Q3
	{0x3666, 0x4B0C,}, 	// P_G2_P0Q4
	{0x3680, 0xFCCC,}, 	// P_G1_P1Q0
	{0x3682, 0x730C,}, 	// P_G1_P1Q1
	{0x3684, 0xECCC,}, 	// P_G1_P1Q2
	{0x3686, 0x8F4C,}, 	// P_G1_P1Q3
	{0x3688, 0xC58C,}, 	// P_G1_P1Q4
	{0x368A, 0x83CD,}, 	// P_R_P1Q0
	{0x368C, 0x6DEB,}, 	// P_R_P1Q1
	{0x368E, 0xF82D,}, 	// P_R_P1Q2
	{0x3690, 0x334C,}, 	// P_R_P1Q3
	{0x3692, 0xE169,}, 	// P_R_P1Q4
	{0x3694, 0x9D0A,}, 	// P_B_P1Q0
	{0x3696, 0xB2AC,}, 	// P_B_P1Q1
	{0x3698, 0x90AE,}, 	// P_B_P1Q2
	{0x369A, 0xE929,}, 	// P_B_P1Q3
	{0x369C, 0xC00F,}, 	// P_B_P1Q4
	{0x369E, 0xFCCB,}, 	// P_G2_P1Q0
	{0x36A0, 0xA926,}, 	// P_G2_P1Q1
	{0x36A2, 0xC0EF,}, 	// P_G2_P1Q2
	{0x36A4, 0x546A,}, 	// P_G2_P1Q3
	{0x36A6, 0x4C2E,}, 	// P_G2_P1Q4
	{0x36C0, 0x2F91,}, 	// P_G1_P2Q0
	{0x36C2, 0xEB4E,}, 	// P_G1_P2Q1
	{0x36C4, 0xEF10,}, 	// P_G1_P2Q2
	{0x36C6, 0x3270,}, 	// P_G1_P2Q3
	{0x36C8, 0x5713,}, 	// P_G1_P2Q4
	{0x36CA, 0x5371,}, 	// P_R_P2Q0
	{0x36CC, 0xB98E,}, 	// P_R_P2Q1
	{0x36CE, 0x4CB0,}, 	// P_R_P2Q2
	{0x36D0, 0x7A70,}, 	// P_R_P2Q3
	{0x36D2, 0x0772,}, 	// P_R_P2Q4
	{0x36D4, 0x2ED1,}, 	// P_B_P2Q0
	{0x36D6, 0xA40E,}, 	// P_B_P2Q1
	{0x36D8, 0xD0F1,},	// P_B_P2Q2
	{0x36DA, 0x3151,}, 	// P_B_P2Q3
	{0x36DC, 0x04F4,}, 	// P_B_P2Q4
	{0x36DE, 0x2C31,}, 	// P_G2_P2Q0
	{0x36E0, 0xEC6E,}, 	// P_G2_P2Q1
	{0x36E2, 0xEED0,}, 	// P_G2_P2Q2
	{0x36E4, 0x0890,}, 	// P_G2_P2Q3
	{0x36E6, 0x53F3,}, 	// P_G2_P2Q4
	{0x3700, 0xB44D,}, 	// P_G1_P3Q0
	{0x3702, 0xBCCE,}, 	// P_G1_P3Q1
	{0x3704, 0x856F,}, 	// P_G1_P3Q2
	{0x3706, 0x396F,}, 	// P_G1_P3Q3
	{0x3708, 0x552F,}, 	// P_G1_P3Q4
	{0x370A, 0xD12E,}, 	// P_R_P3Q0
	{0x370C, 0x2FAA,}, 	// P_R_P3Q1
	{0x370E, 0xE0EF,}, 	// P_R_P3Q2
	{0x3710, 0x8310,}, 	// P_R_P3Q3
	{0x3712, 0x55B1,}, 	// P_R_P3Q4
	{0x3714, 0x2DCB,}, 	// P_B_P3Q0
	{0x3716, 0x156E,}, 	// P_B_P3Q1
	{0x3718, 0xEC71,}, 	// P_B_P3Q2
	{0x371A, 0x99CD,}, 	// P_B_P3Q3
	{0x371C, 0x2CB3,}, 	// P_B_P3Q4
	{0x371E, 0x012B,}, 	// P_G2_P3Q0
	{0x3720, 0xD56C,}, 	// P_G2_P3Q1
	{0x3722, 0xC24E,}, 	// P_G2_P3Q2
	{0x3724, 0x6CCE,}, 	// P_G2_P3Q3
	{0x3726, 0x2A10,}, 	// P_G2_P3Q4
	{0x3740, 0x11AB,}, 	// P_G1_P4Q0
	{0x3742, 0x2630,}, 	// P_G1_P4Q1
	{0x3744, 0x0834,}, 	// P_G1_P4Q2
	{0x3746, 0xB1B2,}, 	// P_G1_P4Q3
	{0x3748, 0xF8B5,}, 	// P_G1_P4Q4
	{0x374A, 0x0E6D,}, 	// P_R_P4Q0
	{0x374C, 0x126F,}, 	// P_R_P4Q1
	{0x374E, 0x5E92,}, 	// P_R_P4Q2
	{0x3750, 0xD832,}, 	// P_R_P4Q3
	{0x3752, 0xA1F5,}, 	// P_R_P4Q4
	{0x3754, 0xD510,}, 	// P_B_P4Q0
	{0x3756, 0x658F,}, 	// P_B_P4Q1
	{0x3758, 0x4934,}, 	// P_B_P4Q2
	{0x375A, 0xA9F3,}, 	// P_B_P4Q3
	{0x375C, 0x9B76,}, 	// P_B_P4Q4
	{0x375E, 0x0F2E,}, 	// P_G2_P4Q0
	{0x3760, 0x2130,}, 	// P_G2_P4Q1
	{0x3762, 0x02D4,}, 	// P_G2_P4Q2
	{0x3764, 0x9052,}, 	// P_G2_P4Q3
	{0x3766, 0xFA15,}, 	// P_G2_P4Q4
	{0x3780, 0x0048,}, 	// PGA_CONTROL
	{0x3782, 0x01AC,},  // 0x01D0	// CENTER_ROW
	{0x3784, 0x0288,},  // 0x0280	// CENTER_COLUMN
	{0x3786, 0x0004,}, 	// PGA_Y_ADDR_START
	{0x3788, 0x03CB,}, 	// PGA_Y_ADDR_END
	{0x378A, 0x0004,}, 	// PGA_X_ADDR_START
	{0x378C, 0x050B,}, 	// PGA_X_ADDR_END
	
	{0x098E, 0x4960,}, 	// LOGICAL_ADDRESS_ACCESS [CAM_PGA_L_CONFIG_COLOUR_TEMP]
	{0xC960, 0x0AF0,}, 	// CAM_PGA_L_CONFIG_COLOUR_TEMP
	{0xC962, 0x7899,}, 	// CAM_PGA_L_CONFIG_GREEN_RED_Q14
	{0xC964, 0x5F20,}, 	// CAM_PGA_L_CONFIG_RED_Q14
	{0xC966, 0x77CC,}, 	// CAM_PGA_L_CONFIG_GREEN_BLUE_Q14
	{0xC968, 0x7D09,}, 	// CAM_PGA_L_CONFIG_BLUE_Q14
	{0xC96A, 0x109A,}, 	// CAM_PGA_M_CONFIG_COLOUR_TEMP
	{0xC96C, 0x7E4D,}, 	// CAM_PGA_M_CONFIG_GREEN_RED_Q14
	{0xC96E, 0x7E22,}, 	// CAM_PGA_M_CONFIG_RED_Q14
	{0xC970, 0x7EB7,}, 	// CAM_PGA_M_CONFIG_GREEN_BLUE_Q14
	{0xC972, 0x7D05,}, 	// CAM_PGA_M_CONFIG_BLUE_Q14
	{0xC974, 0x1964,}, 	// CAM_PGA_R_CONFIG_COLOUR_TEMP
	{0xC976, 0x7F6E,}, 	// CAM_PGA_R_CONFIG_GREEN_RED_Q14
	{0xC978, 0x82E6,}, 	// CAM_PGA_R_CONFIG_RED_Q14
	{0xC97A, 0x80FB,}, 	// CAM_PGA_R_CONFIG_GREEN_BLUE_Q14
	{0xC97C, 0x7F41,}, 	// CAM_PGA_R_CONFIG_BLUE_Q14
	{0xC95E, 0x0003,}, 	// CAM_PGA_PGA_CONTROL
	
	// [Step5-AWB_CCM]1: LOAD=CCM
	{0xC892, 0x0267,}, 	// CAM_AWB_CCM_L_0
	{0xC894, 0xFF1A,}, 	// CAM_AWB_CCM_L_1
	{0xC896, 0xFFB3,}, 	// CAM_AWB_CCM_L_2
	{0xC898, 0xFF80,}, 	// CAM_AWB_CCM_L_3
	{0xC89A, 0x0166,}, 	// CAM_AWB_CCM_L_4
	{0xC89C, 0x0003,}, 	// CAM_AWB_CCM_L_5
	{0xC89E, 0xFF9A,}, 	// CAM_AWB_CCM_L_6
	{0xC8A0, 0xFEB4,}, 	// CAM_AWB_CCM_L_7
	{0xC8A2, 0x024D,}, 	// CAM_AWB_CCM_L_8
	{0xC8A4, 0x01BF,}, 	// CAM_AWB_CCM_M_0
	{0xC8A6, 0xFF01,}, 	// CAM_AWB_CCM_M_1
	{0xC8A8, 0xFFF3,}, 	// CAM_AWB_CCM_M_2
	{0xC8AA, 0xFF75,}, 	// CAM_AWB_CCM_M_3
	{0xC8AC, 0x0198,}, 	// CAM_AWB_CCM_M_4
	{0xC8AE, 0xFFFD,}, 	// CAM_AWB_CCM_M_5
	{0xC8B0, 0xFF9A,}, 	// CAM_AWB_CCM_M_6
	{0xC8B2, 0xFEE7,}, 	// CAM_AWB_CCM_M_7
	{0xC8B4, 0x02A8,}, 	// CAM_AWB_CCM_M_8
	//
	{0xC8B6, 0x0100,}, 	// CAM_AWB_CCM_R_0
	{0xC8B8, 0xFF72,}, 	// CAM_AWB_CCM_R_1
	{0xC8BA, 0xFFF8,}, 	// CAM_AWB_CCM_R_2
	{0xC8BC, 0xFFA8,}, 	// CAM_AWB_CCM_R_3
	{0xC8BE, 0x011D,}, 	// CAM_AWB_CCM_R_4
	{0xC8C0, 0xFFFB,}, 	// CAM_AWB_CCM_R_5
	{0xC8C2, 0xFFE3,}, 	// CAM_AWB_CCM_R_6
	{0xC8C4, 0xFE48,}, 	// CAM_AWB_CCM_R_7
	{0xC8C6, 0x0356,}, 	// CAM_AWB_CCM_R_8
	//
	{0xC8DA, 0x004D,}, 	// CAM_AWB_LL_CCM_0
	{0xC8DC, 0x0096,}, 	// CAM_AWB_LL_CCM_1
	{0xC8DE, 0x001D,}, 	// CAM_AWB_LL_CCM_2
	{0xC8E0, 0x004D,}, 	// CAM_AWB_LL_CCM_3
	{0xC8E2, 0x0096,}, 	// CAM_AWB_LL_CCM_4
	{0xC8E4, 0x001D,}, 	// CAM_AWB_LL_CCM_5
	{0xC8E6, 0x004D,}, 	// CAM_AWB_LL_CCM_6
	{0xC8E8, 0x0096,}, 	// CAM_AWB_LL_CCM_7
	{0xC8EA, 0x001D,}, 	// CAM_AWB_LL_CCM_8
	{0xC8C8, 0x0075,}, 	// CAM_AWB_CCM_L_RG_GAIN
	{0xC8CA, 0x011C,}, 	// CAM_AWB_CCM_L_BG_GAIN
	{0xC8CC, 0x009A,}, 	// CAM_AWB_CCM_M_RG_GAIN
	{0xC8CE, 0x0105,}, 	// CAM_AWB_CCM_M_BG_GAIN
	{0xC8D0, 0x00A4,}, 	// CAM_AWB_CCM_R_RG_GAIN
	{0xC8D2, 0x00AC,}, 	// CAM_AWB_CCM_R_BG_GAIN
	{0xC8D4, 0x0A8C,}, 	// CAM_AWB_CCM_L_CTEMP
	{0xC8D6, 0x0F0A,}, 	// CAM_AWB_CCM_M_CTEMP
	{0xC8D8, 0x1964,}, 	// CAM_AWB_CCM_R_CTEMP
	
	// LOAD=AWB
	{0xC914, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XSTART
	{0xC916, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_YSTART
	{0xC918, 0x04FF,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XEND
	// Rev3, 20110808, Alias -- for DR test
	{0xC91A, 0x03BF,}, //0x02CF	// CAM_STAT_AWB_CLIP_WINDOW_YEND
	
	{0xC8F2, 0x04, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_AWB_XSCALE
	{0xC8F3, 0x02, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_AWB_YSCALE
	{0xC904, 0x0033,}, 	// CAM_AWB_AWB_XSHIFT_PRE_ADJ
	{0xC906, 0x0040,}, 	// CAM_AWB_AWB_YSHIFT_PRE_ADJ
	{0xC8F4, 0x0000,}, 	// CAM_AWB_AWB_WEIGHTS_0	 
	{0xC8F6, 0x0000,}, 	// CAM_AWB_AWB_WEIGHTS_1
	{0xC8F8, 0x0000,}, 	// CAM_AWB_AWB_WEIGHTS_2
	{0xC8FA, 0xE724,}, 	// CAM_AWB_AWB_WEIGHTS_3
	{0xC8FC, 0x1583,}, 	// CAM_AWB_AWB_WEIGHTS_4
	{0xC8FE, 0x2045,}, 	// CAM_AWB_AWB_WEIGHTS_5
	{0xC900, 0x05DC,}, 	// CAM_AWB_AWB_WEIGHTS_6
	{0xC902, 0x007C,}, 	// CAM_AWB_AWB_WEIGHTS_7
	{0xC90A, 0x1004,}, 	// CAM_AWB_TINTS_CTEMP_THRESHOLD
	{0xC90C, 0x80, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_K_R_L
	{0xC90D, 0x86, MSM_CAMERA_I2C_BYTE_DATA},	//0x80	// CAM_AWB_K_G_L
	{0xC90E, 0x80, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_K_B_L
	{0xC90F, 0x82, MSM_CAMERA_I2C_BYTE_DATA},	//0x88	// CAM_AWB_K_R_R
	{0xC910, 0x8C, MSM_CAMERA_I2C_BYTE_DATA},	//0x80	// CAM_AWB_K_G_R
	{0xC911, 0x80, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_K_B_R
	
	{0xAC07, 0x66, MSM_CAMERA_I2C_BYTE_DATA},	// AWB_R_RATIO_UPPER
	{0xAC09, 0x66, MSM_CAMERA_I2C_BYTE_DATA},	// AWB_B_RATIO_UPPER
	
	// LOAD=Step7-CPIPE_Preference	
	// changed for fixing AE test at LV6
	{0xC926, 0x0060,}, 	// CAM_LL_START_BRIGHTNESS
	//
	{0xC928, 0x009A,}, 	// CAM_LL_STOP_BRIGHTNESS
	{0xC946, 0x0070,}, 	// CAM_LL_START_GAIN_METRIC
	{0xC948, 0x00F3,}, 	// CAM_LL_STOP_GAIN_METRIC
	// changed for fixing AE test at LV6
	{0xC952, 0x0060,}, 	// CAM_LL_START_TARGET_LUMA_BM
	//
	{0xC954, 0x009A,}, 	// CAM_LL_STOP_TARGET_LUMA_BM
	// 02072012, Rev2, Alias
	// Modified default saturation to 110%
	{0xC92A, 0x88, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_SATURATION
	
	{0xC92B, 0x4B, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_END_SATURATION
	{0xC92C, 0x00, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_DESATURATION
	{0xC92D, 0xFF, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_END_DESATURATION
	{0xC92E, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_DEMOSAIC
	//
	// 02162012, Rev3, Alias
	// Modified Sharpness setting
	{0xC92F, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_AP_GAIN	
	//
	{0xC930, 0x06, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_AP_THRESH
	{0xC931, 0x64, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_DEMOSAIC
	{0xC932, 0x01, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_AP_GAIN
	{0xC933, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_AP_THRESH
	{0xC934, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_NR_RED
	{0xC935, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_NR_GREEN
	{0xC936, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_NR_BLUE
	{0xC937, 0x0F, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_NR_THRESH
	{0xC938, 0x64, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_NR_RED
	{0xC939, 0x64, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_NR_GREEN
	{0xC93A, 0x64, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_NR_BLUE
	{0xC93B, 0x32, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_NR_THRESH
	//
	{0xC93C, 0x0005,}, 	// CAM_LL_START_CONTRAST_BM
	{0xC93E, 0x0358,}, 	// CAM_LL_STOP_CONTRAST_BM
	//
	{0xC940, 0x00DC,}, 	// CAM_LL_GAMMA
	{0xC942, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	//0x44	// CAM_LL_START_CONTRAST_GRADIENT
	{0xC943, 0x30, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_CONTRAST_GRADIENT
	{0xC944, 0x22, MSM_CAMERA_I2C_BYTE_DATA},	//0x26	// CAM_LL_START_CONTRAST_LUMA_PERCENTAGE
	{0xC945, 0x19, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_CONTRAST_LUMA_PERCENTAGE
	//
	// changed for fixing FTB
	{0xC94A, 0x00F0,}, 	// CAM_LL_START_FADE_TO_BLACK_LUMA
	//
	{0xC94C, 0x0010,}, 	// CAM_LL_STOP_FADE_TO_BLACK_LUMA
	{0xC94E, 0x01CD,}, 	// CAM_LL_CLUSTER_DC_TH_BM
	{0xC950, 0x05, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_CLUSTER_DC_GATE_PERCENTAGE
	{0xC951, 0x40, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_SUMMING_SENSITIVITY_FACTOR
	//
	// 02162012, Rev3, Alias
	// for AE to 135 and low light between 80~180 at color checker block 18.
	{0xC87A, 0x37, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AET_TARGET_AVERAGE_LUMA
	{0xC87B, 0x0E, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AET_TARGET_AVERAGE_LUMA_DARK
	
	// set AE target to default to 128
	// 02072012, Rev2, Alias
	// Modified AE target to 130~140
	{0xC878, 0x0E, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AET_AEMODE  -- for DR test
	{0xC890, 0x0080,}, 	// CAM_AET_TARGET_GAIN
	// 03122012, Rev5, Alias
	// Increase AE_ vir_digit_gain for low light test on device
	{0xC882, 0x0100,}, 	// CAM_AET_AE_MAX_VIRT_DGAIN
	//
	{0xC886, 0x0100,}, 	// CAM_AET_AE_MAX_VIRT_AGAIN
	{0xA404, 0x02, MSM_CAMERA_I2C_BYTE_DATA},	// AE_RULE_ALGO
	//
	// modified for 2'nd BL
	// 03122012, Rev5, Alias
	// Fix gray scale error
	{0xC87C, 0x0016,}, //0x0030	//0x0010	// CAM_AET_BLACK_CLIPPING_TARGET	
	//
	{0xB42A, 0x05, MSM_CAMERA_I2C_BYTE_DATA},	// CCM_DELTA_GAIN
	// 02072012, Rev2, Alias
	// Improve AE Tracking speed
	{0xA80A, 0x10, MSM_CAMERA_I2C_BYTE_DATA},	// AE_TRACK_AE_TRACKING_DAMPENING_SPEED
	
	// 03122012, Rev5, Alias
	// Increase sharpness (2D-Aperture correction)
	{0x326C, 0x1706,}, 	// APERTURE_PARAMETERS_2D

	// LOAD=Step8-Features		
	{0x098E, 0x0000,}, 	// LOGICAL_ADDRESS_ACCESS
	{0xC984, 0x8040,}, 	// CAM_PORT_OUTPUT_CONTROL
	{0x001E, 0x0777,}, 	// PAD_SLEW
		
	// LOAD=MIPI setting for SOC1040
	{0xC984, 0x8041,}, 	// CAM_PORT_OUTPUT_CONTROL
	{0xC988, 0x0F00,}, 	// CAM_PORT_MIPI_TIMING_T_HS_ZERO
	{0xC98A, 0x0B07,}, 	// CAM_PORT_MIPI_TIMING_T_HS_EXIT_HS_TRAIL
	{0xC98C, 0x0D01,}, 	// CAM_PORT_MIPI_TIMING_T_CLK_POST_CLK_PRE
	{0xC98E, 0x071D,}, 	// CAM_PORT_MIPI_TIMING_T_CLK_TRAIL_CLK_ZERO
	{0xC990, 0x0006,}, 	// CAM_PORT_MIPI_TIMING_T_LPX
	{0xC992, 0x0A0C,}, 	// CAM_PORT_MIPI_TIMING_INIT_TIMING
	{0x3C5A, 0x0009,}, 	// MIPI_DELAY_TRIM
	
	// LOAD=Dual Lane Mipi Receiver Init
	// LOAD=Enter Suspend
	{0xDC00, 0x40, MSM_CAMERA_I2C_BYTE_DATA},	// SYSMGR_NEXT_STATE
	{0x0080, 0x8002,}, 	// COMMAND_REGISTER
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},		// Polling R0x0080[1] till "0".
	
	//LOAD=Leave Suspend
	{0xDC00, 0x34, MSM_CAMERA_I2C_BYTE_DATA},	// SYSMGR_NEXT_STATE
	{0x0080, 0x8002,}, 	// COMMAND_REGISTER
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},		// Polling R0x0080[1] till "0".
		
	{0x098E, 0x2802,}, 	// LOGICAL_ADDRESS_ACCESS
	{0xC908, 0x01, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_SKIP_FRAMES
	{0xC879, 0x01, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AET_SKIP_FRAMES
	{0xC909, 0x02, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_AWBMODE
	
	// 02072012, Rev2, Alias
	// Improve AE Dampening speed
	{0xA80B, 0x04, MSM_CAMERA_I2C_BYTE_DATA},	// AE_TRACK_AE_DAMPENING_SPEED
	
	{0xAC16, 0x18, MSM_CAMERA_I2C_BYTE_DATA},	// AWB_PRE_AWB_RATIOS_TRACKING_SPEED
	{0xDC00, 0x28, MSM_CAMERA_I2C_BYTE_DATA},	// SYSMGR_NEXT_STATE
	{0x0080, 0x8002,}, 	// COMMAND_REGISTER
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},		// Polling R0x0080[1] till "0".	
	//end of initialization

};
/*BEGIN Chaoyen_Wu@pegatron[2012.4.12][Add Chicony module IQ]*/
static struct msm_camera_i2c_reg_conf mt9m114_recommend_settings_2[] = {
	//[Initialization]	
	// Reset 
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},
	// load= errata item 2
	{0x301A, 0x0234,}, 	// RESET_REGISTER
	
	// [Step2-PLL_Timing]
	// LOAD=PLL_settings
	{0x098E, 0x0000,}, 	// LOGICAL_ADDRESS_ACCESS
	{0xC97E, 0x01, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_SYSCTL_PLL_ENABLE
	{0xC980, 0x0120,}, 	// CAM_SYSCTL_PLL_DIVIDER_M_N
	{0xC982, 0x0700,}, 	// CAM_SYSCTL_PLL_DIVIDER_P
	
	// LOAD=Timing_settings   
	{0x098E, 0x0000,}, // set XDMA to logical addressing
	{0xC800, 0x0004,}, 	// CAM_SENSOR_CFG_Y_ADDR_START
	{0xC802, 0x0004,}, 	// CAM_SENSOR_CFG_X_ADDR_START
	{0xC804, 0x03CB,}, 	// CAM_SENSOR_CFG_Y_ADDR_END
	{0xC806, 0x050B,}, 	// CAM_SENSOR_CFG_X_ADDR_END
	// data length is double words
	{0xC808, 0x02DC,}, 	// CAM_SENSOR_CFG_PIXCLK
	{0xC80C, 0x6C00,},
	
	{0xC80C, 0x0001,}, 	// CAM_SENSOR_CFG_ROW_SPEED
	{0xC80E, 0x00DB,}, 	// CAM_SENSOR_CFG_FINE_INTEG_TIME_MIN
	{0xC810, 0x05B3,}, 	// CAM_SENSOR_CFG_FINE_INTEG_TIME_MAX
	{0xC812, 0x03EE,}, 	// CAM_SENSOR_CFG_FRAME_LENGTH_LINES
	{0xC814, 0x0636,}, 	// CAM_SENSOR_CFG_LINE_LENGTH_PCK
	{0xC816, 0x0060,}, 	// CAM_SENSOR_CFG_FINE_CORRECTION
	{0xC818, 0x03C3,}, 	// CAM_SENSOR_CFG_CPIPE_LAST_ROW
	{0xC834, 0x0000,}, 	// CAM_SENSOR_CONTROL_READ_MODE
	{0xC854, 0x0000,}, 	// CAM_CROP_WINDOW_XOFFSET
	{0xC856, 0x0000,}, 	// CAM_CROP_WINDOW_YOFFSET
	{0xC858, 0x0500,}, 	// CAM_CROP_WINDOW_WIDTH
	{0xC85A, 0x03C0,}, 	// CAM_CROP_WINDOW_HEIGHT
	{0xC85C, 0x03, MSM_CAMERA_I2C_BYTE_DATA},		// CAM_CROP_CROPMODE
	{0xC868, 0x0500,}, 	// CAM_OUTPUT_WIDTH
	{0xC86A, 0x03C0,}, 	// CAM_OUTPUT_HEIGHT
	{0xC88C, 0x1E02,}, 	// CAM_AET_MAX_FRAME_RATE
	// Changed to varied frame rate to 7.5~30fps
	/*BEGIN Chaoyen_Wu@pegatron[2012.4.20][Modify Chicony module IQ]*/
	{0xC88E, 0x0500,}, 	// CAM_AET_MIN_FRAME_RATE 
	/*END Chaoyen_Wu@pegatron[2012.4.20][Modify Chicony module IQ]*/
	{0xC914, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XSTART
	{0xC916, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_YSTART
	{0xC918, 0x04FF,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XEND
	{0xC91A, 0x03BF,}, 	// CAM_STAT_AWB_CLIP_WINDOW_YEND
	{0xC91C, 0x0000,}, 	// CAM_STAT_AE_INITIAL_WINDOW_XSTART
	{0xC91E, 0x0000,}, 	// CAM_STAT_AE_INITIAL_WINDOW_YSTART
	{0xC920, 0x00FF,}, 	// CAM_STAT_AE_INITIAL_WINDOW_XEND
	{0xC922, 0x00BF,}, 	// CAM_STAT_AE_INITIAL_WINDOW_YEND
	{0xE801, 0x0000,},	// AUTO_BINNING_MODE
	
	
	//[Step3-Recommended]
	//[Sensor optimization]
	{0x316A, 0x8270,}, 	// DAC_TXLO_ROW
	{0x316C, 0x8270,}, 	// DAC_TXLO
	{0x3ED0, 0x2305,}, 	// DAC_LD_4_5
	{0x3ED2, 0x77CF,}, 	// DAC_LD_6_7
	{0x316E, 0x8202,}, 	// DAC_ECL
	{0x3180, 0x87FF,}, 	// DELTA_DK_CONTROL
	{0x30D4, 0x6080,}, 	// COLUMN_CORRECTION
	{0xA802, 0x0008,}, 	// AE_TRACK_MODE
	
	// LOAD=Errata item 1
	{0x3E14, 0xFF39,}, 	// SAMP_COL_PUP2
	
	// PGA parameter and APGA
	//[Step4-APGA]
	// Lens register settings for A-1040SOC (MT9M114) REV2
	{0x3640, 0x0410,}, 	//	P_G1_P0Q0							// 04112012, Rev8, Akeem
	{0x3642, 0xDC2A,}, 	//	P_G1_P0Q1							// 04112012, Rev8, Akeem
	{0x3644, 0x07B0,}, 	//	P_G1_P0Q2							// 04112012, Rev8, Akeem
	{0x3646, 0x358D,}, 	//	P_G1_P0Q3							// 04112012, Rev8, Akeem
	{0x3648, 0xEB4F,}, 	//	P_G1_P0Q4							// 04112012, Rev8, Akeem
	{0x364A, 0x00B0,}, 	//	P_R_P0Q0							// 04112012, Rev8, Akeem
	{0x364C, 0x3305,}, 	//	P_R_P0Q1							// 04112012, Rev8, Akeem
	{0x364E, 0x1D90,}, 	//	P_R_P0Q2							// 04112012, Rev8, Akeem
	{0x3650, 0x574D,}, 	//	P_R_P0Q3							// 04112012, Rev8, Akeem
	{0x3652, 0x91AF,}, 	//	P_R_P0Q4							// 04112012, Rev8, Akeem
	{0x3654, 0x0150,}, 	//	P_B_P0Q0							// 04112012, Rev8, Akeem
	{0x3656, 0x25CB,}, 	//	P_B_P0Q1							// 04112012, Rev8, Akeem
	{0x3658, 0x346F,}, 	//	P_B_P0Q2							// 04112012, Rev8, Akeem
	{0x365A, 0x196D,}, 	//	P_B_P0Q3							// 04112012, Rev8, Akeem
	{0x365C, 0xFFCE,}, 	//	P_B_P0Q4							// 04112012, Rev8, Akeem
	{0x365E, 0x00F0,}, 	//	P_G2_P0Q0							// 04112012, Rev8, Akeem
	{0x3660, 0xF3EA,}, 	//	P_G2_P0Q1							// 04112012, Rev8, Akeem
	{0x3662, 0x0FD0,}, 	//	P_G2_P0Q2							// 04112012, Rev8, Akeem
	{0x3664, 0x39CD,}, 	//	P_G2_P0Q3							// 04112012, Rev8, Akeem
	{0x3666, 0x8370,}, 	//	P_G2_P0Q4							// 04112012, Rev8, Akeem
	{0x3680, 0x8628,}, 	//	P_G1_P1Q0							// 04112012, Rev8, Akeem
	{0x3682, 0x2D6A,}, 	//	P_G1_P1Q1							// 04112012, Rev8, Akeem
	{0x3684, 0x724D,}, 	//	P_G1_P1Q2							// 04112012, Rev8, Akeem
	{0x3686, 0x59CA,}, 	//	P_G1_P1Q3							// 04112012, Rev8, Akeem
	{0x3688, 0x21CF,}, 	//	P_G1_P1Q4							// 04112012, Rev8, Akeem
	{0x368A, 0x006B,}, 	//	P_R_P1Q0							// 04112012, Rev8, Akeem
	{0x368C, 0xC506,}, 	//	P_R_P1Q1							// 04112012, Rev8, Akeem
	{0x368E, 0x438D,}, 	//	P_R_P1Q2							// 04112012, Rev8, Akeem
	{0x3690, 0x2A2C,}, 	//	P_R_P1Q3							// 04112012, Rev8, Akeem
	{0x3692, 0x16AF,}, 	//	P_R_P1Q4							// 04112012, Rev8, Akeem
	{0x3694, 0x682C,}, 	//	P_B_P1Q0							// 04112012, Rev8, Akeem
	{0x3696, 0xF06C,}, 	//	P_B_P1Q1							// 04112012, Rev8, Akeem
	{0x3698, 0xCFED,}, 	//	P_B_P1Q2							// 04112012, Rev8, Akeem
	{0x369A, 0x01ED,}, 	//	P_B_P1Q3							// 04112012, Rev8, Akeem
	{0x369C, 0x7D0F,}, 	//	P_B_P1Q4							// 04112012, Rev8, Akeem
	{0x369E, 0x216C,}, 	//	P_G2_P1Q0							// 04112012, Rev8, Akeem
	{0x36A0, 0xA46C,}, 	//	P_G2_P1Q1							// 04112012, Rev8, Akeem
	{0x36A2, 0xEDEC,}, 	//	P_G2_P1Q2							// 04112012, Rev8, Akeem
	{0x36A4, 0x05AD,}, 	//	P_G2_P1Q3							// 04112012, Rev8, Akeem
	{0x36A6, 0x538F,}, 	//	P_G2_P1Q4							// 04112012, Rev8, Akeem
	{0x36C0, 0x6A50,}, 	//	P_G1_P2Q0							// 04112012, Rev8, Akeem
	{0x36C2, 0x38AE,}, 	//	P_G1_P2Q1							// 04112012, Rev8, Akeem
	{0x36C4, 0xF772,}, 	//	P_G1_P2Q2							// 04112012, Rev8, Akeem
	{0x36C6, 0x82EF,}, 	//	P_G1_P2Q3							// 04112012, Rev8, Akeem
	{0x36C8, 0x14B4,}, 	//	P_G1_P2Q4							// 04112012, Rev8, Akeem
	{0x36CA, 0x7130,}, 	//	P_R_P2Q0							// 04112012, Rev8, Akeem
	{0x36CC, 0x394D,}, 	//	P_R_P2Q1							// 04112012, Rev8, Akeem
	{0x36CE, 0xCA92,}, 	//	P_R_P2Q2							// 04112012, Rev8, Akeem
	{0x36D0, 0x80AF,}, 	//	P_R_P2Q3							// 04112012, Rev8, Akeem
	{0x36D2, 0x7453,}, 	//	P_R_P2Q4							// 04112012, Rev8, Akeem
	{0x36D4, 0x32F0,}, 	//	P_B_P2Q0							// 04112012, Rev8, Akeem
	{0x36D6, 0x19AD,}, 	//	P_B_P2Q1							// 04112012, Rev8, Akeem
	{0x36D8, 0xCD12,}, 	//	P_B_P2Q2							// 04112012, Rev8, Akeem
	{0x36DA, 0xBA6D,}, 	//	P_B_P2Q3							// 04112012, Rev8, Akeem
	{0x36DC, 0x0BB4,}, 	//	P_B_P2Q4							// 04112012, Rev8, Akeem
	{0x36DE, 0x6E90,}, 	//	P_G2_P2Q0							// 04112012, Rev8, Akeem
	{0x36E0, 0x0F6E,}, 	//	P_G2_P2Q1							// 04112012, Rev8, Akeem
	{0x36E2, 0xF9B2,}, 	//	P_G2_P2Q2							// 04112012, Rev8, Akeem
	{0x36E4, 0x8C8F,},	//	P_G2_P2Q3							// 04112012, Rev8, Akeem
	{0x36E6, 0x12F4,}, 	//	P_G2_P2Q4							// 04112012, Rev8, Akeem
	{0x3700, 0x06EE,}, 	//	P_G1_P3Q0							// 04112012, Rev8, Akeem
	{0x3702, 0x498B,}, 	//	P_G1_P3Q1							// 04112012, Rev8, Akeem
	{0x3704, 0x2311,}, 	//	P_G1_P3Q2							// 04112012, Rev8, Akeem
	{0x3706, 0xACAE,}, 	//	P_G1_P3Q3							// 04112012, Rev8, Akeem
	{0x3708, 0xCAF2,}, 	//	P_G1_P3Q4							// 04112012, Rev8, Akeem
	{0x370A, 0xCD09,}, 	//	P_R_P3Q0							// 04112012, Rev8, Akeem
	{0x370C, 0x9C8D,}, 	//	P_R_P3Q1							// 04112012, Rev8, Akeem
	{0x370E, 0x3950,}, 	//	P_R_P3Q2							// 04112012, Rev8, Akeem
	{0x3710, 0xD2CD,}, 	//	P_R_P3Q3							// 04112012, Rev8, Akeem
	{0x3712, 0xEA31,}, 	//	P_R_P3Q4							// 04112012, Rev8, Akeem
	{0x3714, 0x0AC9,}, 	//	P_B_P3Q0							// 04112012, Rev8, Akeem
	{0x3716, 0x6FCD,}, 	//	P_B_P3Q1							// 04112012, Rev8, Akeem
	{0x3718, 0x0D91,}, 	//	P_B_P3Q2							// 04112012, Rev8, Akeem
	{0x371A, 0xA3CE,}, 	//	P_B_P3Q3							// 04112012, Rev8, Akeem
	{0x371C, 0xBD52,}, 	//	P_B_P3Q4							// 04112012, Rev8, Akeem
	{0x371E, 0x238E,}, 	//	P_G2_P3Q0							// 04112012, Rev8, Akeem
	{0x3720, 0x3BAD,}, 	//	P_G2_P3Q1							// 04112012, Rev8, Akeem
	{0x3722, 0x25F1,}, 	//	P_G2_P3Q2							// 04112012, Rev8, Akeem
	{0x3724, 0xA54E,}, 	//	P_G2_P3Q3							// 04112012, Rev8, Akeem
	{0x3726, 0xB852,}, 	//	P_G2_P3Q4							// 04112012, Rev8, Akeem
	{0x3740, 0xC731,}, 	//	P_G1_P4Q0							// 04112012, Rev8, Akeem
	{0x3742, 0x96EF,}, 	//	P_G1_P4Q1							// 04112012, Rev8, Akeem
	{0x3744, 0x2B74,}, 	//	P_G1_P4Q2							// 04112012, Rev8, Akeem
	{0x3746, 0x3A2A,}, 	//	P_G1_P4Q3							// 04112012, Rev8, Akeem
	{0x3748, 0x9835,}, 	//	P_G1_P4Q4							// 04112012, Rev8, Akeem
	{0x374A, 0x84F1,}, 	//	P_R_P4Q0							// 04112012, Rev8, Akeem
	{0x374C, 0x32CE,}, 	//	P_R_P4Q1							// 04112012, Rev8, Akeem
	{0x374E, 0x08D4,}, 	//	P_R_P4Q2							// 04112012, Rev8, Akeem
	{0x3750, 0x6BEF,}, 	//	P_R_P4Q3							// 04112012, Rev8, Akeem
	{0x3752, 0xE4B4,}, 	//	P_R_P4Q4							// 04112012, Rev8, Akeem
	{0x3754, 0x9A71,}, 	//	P_B_P4Q0							// 04112012, Rev8, Akeem
	{0x3756, 0xA8AE,}, 	//	P_B_P4Q1							// 04112012, Rev8, Akeem
	{0x3758, 0x2B94,}, 	//	P_B_P4Q2							// 04112012, Rev8, Akeem
	{0x375A, 0x2090,}, 	//	P_B_P4Q3							// 04112012, Rev8, Akeem
	{0x375C, 0xA235,}, 	//	P_B_P4Q4							// 04112012, Rev8, Akeem
	{0x375E, 0xC711,}, 	//	P_G2_P4Q0							// 04112012, Rev8, Akeem
	{0x3760, 0xB62E,}, 	//	P_G2_P4Q1							// 04112012, Rev8, Akeem
	{0x3762, 0x29D4,}, 	//	P_G2_P4Q2							// 04112012, Rev8, Akeem
	{0x3764, 0x4ECD,}, 	//	P_G2_P4Q3							// 04112012, Rev8, Akeem
	{0x3766, 0x9555,}, 	//	P_G2_P4Q4							// 04112012, Rev8, Akeem
	{0x3784, 0x026C,}, 	//	CENTER_COLUMN						// 04112012, Rev8, Akeem
	{0x3782, 0x01CC,}, 	//	CENTER_ROW							// 04112012, Rev8, Akeem
	{0x37C0, 0xD6E9,}, 	//	P_GR_Q5 							// 04112012, Rev8, Akeem
	{0x37C2, 0xC449,}, 	//	P_RD_Q5 							// 04112012, Rev8, Akeem
	{0x37C4, 0x838A,}, 	//	P_BL_Q5 							// 04112012, Rev8, Akeem
	{0x37C6, 0x824A,}, 	//	P_GB_Q5 							// 04112012, Rev8, Akeem
	{0x098E, 0x0000,}, 	//	LOGICAL addressing					// 04112012, Rev8, Akeem
	{0xC960, 0x0AF0,}, 	//	CAM_PGA_L_CONFIG_COLOUR_TEMP		// 04112012, Rev8, Akeem
	{0xC962, 0x763E,}, 	//	CAM_PGA_L_CONFIG_GREEN_RED_Q14		// 04112012, Rev8, Akeem
	{0xC964, 0x5D18,}, 	//	CAM_PGA_L_CONFIG_RED_Q14			// 04112012, Rev8, Akeem
	{0xC966, 0x748C,}, 	//	CAM_PGA_L_CONFIG_GREEN_BLUE_Q14 	// 04112012, Rev8, Akeem
	{0xC968, 0x781B,}, 	//	CAM_PGA_L_CONFIG_BLUE_Q14			// 04112012, Rev8, Akeem
	{0xC96A, 0x0FA0,}, 	//	CAM_PGA_M_CONFIG_COLOUR_TEMP		// 04112012, Rev8, Akeem
	{0xC96C, 0x7C43,}, 	//	CAM_PGA_M_CONFIG_GREEN_RED_Q14		// 04112012, Rev8, Akeem
	{0xC96E, 0x7E51,}, 	//	CAM_PGA_M_CONFIG_RED_Q14			// 04112012, Rev8, Akeem
	{0xC970, 0x7C14,}, 	//	CAM_PGA_M_CONFIG_GREEN_BLUE_Q14 	// 04112012, Rev8, Akeem
	{0xC972, 0x7E0F,}, 	//	CAM_PGA_M_CONFIG_BLUE_Q14			// 04112012, Rev8, Akeem
	{0xC974, 0x1964,}, 	//	CAM_PGA_R_CONFIG_COLOUR_TEMP		// 04112012, Rev8, Akeem
	{0xC976, 0x7F29,}, 	//	CAM_PGA_R_CONFIG_GREEN_RED_Q14		// 04112012, Rev8, Akeem
	{0xC978, 0x7F3C,}, 	//	CAM_PGA_R_CONFIG_RED_Q14			// 04112012, Rev8, Akeem
	{0xC97A, 0x7EFC,}, 	//	CAM_PGA_R_CONFIG_GREEN_BLUE_Q14 	// 04112012, Rev8, Akeem
	{0xC97C, 0x7EF9,}, 	//	CAM_PGA_R_CONFIG_BLUE_Q14			// 04112012, Rev8, Akeem
	{0xC95E, 0x0003,}, 	//	CAM_PGA_PGA_CONTROL 				// 04112012, Rev8, Akeem
																	  																 
	// [Step5-AWB_CCM]1: LOAD=CCM
	{0xC892, 0x0267,}, 	// CAM_AWB_CCM_L_0
	{0xC894, 0xFF1A,}, 	// CAM_AWB_CCM_L_1
	{0xC896, 0xFFB3,}, 	// CAM_AWB_CCM_L_2
	{0xC898, 0xFF80,}, 	// CAM_AWB_CCM_L_3
	{0xC89A, 0x0166,}, 	// CAM_AWB_CCM_L_4
	{0xC89C, 0x0003,}, 	// CAM_AWB_CCM_L_5
	{0xC89E, 0xFF9A,}, 	// CAM_AWB_CCM_L_6
	{0xC8A0, 0xFEB4,}, 	// CAM_AWB_CCM_L_7
	{0xC8A2, 0x024D,}, 	// CAM_AWB_CCM_L_8
	{0xC8A4, 0x01BF,}, 	// CAM_AWB_CCM_M_0
	{0xC8A6, 0xFF01,}, 	// CAM_AWB_CCM_M_1
	{0xC8A8, 0xFFF3,}, 	// CAM_AWB_CCM_M_2
	{0xC8AA, 0xFF75,}, 	// CAM_AWB_CCM_M_3
	{0xC8AC, 0x0198,}, 	// CAM_AWB_CCM_M_4
	{0xC8AE, 0xFFFD,}, 	// CAM_AWB_CCM_M_5
	{0xC8B0, 0xFF9A,}, 	// CAM_AWB_CCM_M_6
	{0xC8B2, 0xFEE7,}, 	// CAM_AWB_CCM_M_7
	{0xC8B4, 0x02A8,},	// CAM_AWB_CCM_M_8
	// 02162012, Rev3, Alias
	{0xC8B6, 0x0100,}, 	// CAM_AWB_CCM_R_0
	{0xC8B8, 0xFF72,}, 	// CAM_AWB_CCM_R_1
	{0xC8BA, 0xFFF8,}, 	// CAM_AWB_CCM_R_2
	{0xC8BC, 0xFFA8,}, 	// CAM_AWB_CCM_R_3
	{0xC8BE, 0x011D,}, 	// CAM_AWB_CCM_R_4
	{0xC8C0, 0xFFFB,}, 	// CAM_AWB_CCM_R_5
	{0xC8C2, 0xFFE3,}, 	// CAM_AWB_CCM_R_6
	{0xC8C4, 0xFE48,}, 	// CAM_AWB_CCM_R_7
	{0xC8C6, 0x0356,}, 	// CAM_AWB_CCM_R_8
	
	{0xC8DA, 0x004D,}, 	// CAM_AWB_LL_CCM_0
	{0xC8DC, 0x0096,}, 	// CAM_AWB_LL_CCM_1
	{0xC8DE, 0x001D,}, 	// CAM_AWB_LL_CCM_2
	{0xC8E0, 0x004D,}, 	// CAM_AWB_LL_CCM_3
	{0xC8E2, 0x0096,}, 	// CAM_AWB_LL_CCM_4
	{0xC8E4, 0x001D,}, 	// CAM_AWB_LL_CCM_5
	{0xC8E6, 0x004D,}, 	// CAM_AWB_LL_CCM_6
	{0xC8E8, 0x0096,}, 	// CAM_AWB_LL_CCM_7
	{0xC8EA, 0x001D,}, 	// CAM_AWB_LL_CCM_8
	{0xC8C8, 0x0075,}, 	// CAM_AWB_CCM_L_RG_GAIN
	{0xC8CA, 0x011C,}, 	// CAM_AWB_CCM_L_BG_GAIN
	{0xC8CC, 0x009A,}, 	// CAM_AWB_CCM_M_RG_GAIN
	{0xC8CE, 0x0105,}, 	// CAM_AWB_CCM_M_BG_GAIN
	{0xC8D0, 0x00A4,}, 	// CAM_AWB_CCM_R_RG_GAIN
	{0xC8D2, 0x00AC,}, 	// CAM_AWB_CCM_R_BG_GAIN
	{0xC8D4, 0x0A8C,}, 	// CAM_AWB_CCM_L_CTEMP
	{0xC8D6, 0x0F0A,}, 	// CAM_AWB_CCM_M_CTEMP
	{0xC8D8, 0x1964,}, 	// CAM_AWB_CCM_R_CTEMP
	
	// LOAD=AWB
	{0xC914, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XSTART
	{0xC916, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_YSTART
	{0xC918, 0x04FF,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XEND
	// Rev3, 20110808, Alias -- for DR test
	{0xC91A, 0x03BF,}, //0x02CF	// CAM_STAT_AWB_CLIP_WINDOW_YEND
	{0xC8F2, 0x04, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_AWB_XSCALE
	{0xC8F3, 0x02, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_AWB_YSCALE
	{0xC904, 0x0033,}, 	// CAM_AWB_AWB_XSHIFT_PRE_ADJ
	{0xC906, 0x0040,}, 	// CAM_AWB_AWB_YSHIFT_PRE_ADJ
	{0xC8F4, 0x0000,}, 	// CAM_AWB_AWB_WEIGHTS_0	 
	{0xC8F6, 0x0000,}, 	// CAM_AWB_AWB_WEIGHTS_1
	{0xC8F8, 0x0000,}, 	// CAM_AWB_AWB_WEIGHTS_2
	{0xC8FA, 0xE724,}, 	// CAM_AWB_AWB_WEIGHTS_3
	{0xC8FC, 0x1583,}, 	// CAM_AWB_AWB_WEIGHTS_4
	{0xC8FE, 0x2045,}, 	// CAM_AWB_AWB_WEIGHTS_5
	{0xC900, 0x05DC,}, 	// CAM_AWB_AWB_WEIGHTS_6
	{0xC902, 0x007C,}, 	// CAM_AWB_AWB_WEIGHTS_7
	{0xC90A, 0x1004,}, 	// CAM_AWB_TINTS_CTEMP_THRESHOLD
	{0xC90C, 0x80, MSM_CAMERA_I2C_BYTE_DATA},		// CAM_AWB_K_R_L
	{0xC90D, 0x86, MSM_CAMERA_I2C_BYTE_DATA},		//0x80	// CAM_AWB_K_G_L
	{0xC90E, 0x80, MSM_CAMERA_I2C_BYTE_DATA},		// CAM_AWB_K_B_L
	{0xC90F, 0x82, MSM_CAMERA_I2C_BYTE_DATA},		//0x88	// CAM_AWB_K_R_R
	{0xC910, 0x8C, MSM_CAMERA_I2C_BYTE_DATA},		//0x80	// CAM_AWB_K_G_R
	
	
	// REG= 0xC911, 0x80	// CAM_AWB_K_B_R
	
	{0xC911, 0x98, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_K_B_R	 // 04112012, Rev8, Akeem
	{0xAC07, 0x66, MSM_CAMERA_I2C_BYTE_DATA},	// AWB_R_RATIO_UPPER
	{0xAC09, 0x66, MSM_CAMERA_I2C_BYTE_DATA},	// AWB_B_RATIO_UPPER
	
	
	// LOAD=Step7-CPIPE_Preference	
	// changed for fixing AE test at LV6
	{0xC926, 0x0060,}, 	// CAM_LL_START_BRIGHTNESS
	
	{0xC928, 0x009A,}, 	// CAM_LL_STOP_BRIGHTNESS
	{0xC946, 0x0070,}, 	// CAM_LL_START_GAIN_METRIC
	{0xC948, 0x00F3,}, 	// CAM_LL_STOP_GAIN_METRIC

	// changed for fixing AE test at LV6
	{0xC952, 0x0060,}, 	// CAM_LL_START_TARGET_LUMA_BM
	
	{0xC954, 0x009A,}, 	// CAM_LL_STOP_TARGET_LUMA_BM
	// 02072012, Rev2, Alias
	// Modified default saturation to 110%
	{0xC92A, 0x88, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_SATURATION
	{0xC92B, 0x4B, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_END_SATURATION
	{0xC92C, 0x00, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_DESATURATION
	{0xC92D, 0xFF, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_END_DESATURATION
	{0xC92E, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_DEMOSAIC

	// 02162012, Rev3, Alias
	// Modified Sharpness setting
	{0xC92F, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_AP_GAIN
	
	{0xC930, 0x06, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_AP_THRESH
	{0xC931, 0x64, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_DEMOSAIC
	{0xC932, 0x01, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_AP_GAIN
	{0xC933, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_AP_THRESH
	{0xC934, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_NR_RED
	{0xC935, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_NR_GREEN
	{0xC936, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_NR_BLUE
	{0xC937, 0x0F, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_NR_THRESH
	{0xC938, 0x64, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_NR_RED
	{0xC939, 0x64, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_NR_GREEN
	{0xC93A, 0x64, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_NR_BLUE
	{0xC93B, 0x32, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_NR_THRESH

	{0xC93C, 0x0005,}, 	// CAM_LL_START_CONTRAST_BM
	{0xC93E, 0x0358,}, 	// CAM_LL_STOP_CONTRAST_BM

	{0xC940, 0x00DC,}, 	// CAM_LL_GAMMA
	{0xC942, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	//0x44	// CAM_LL_START_CONTRAST_GRADIENT
	{0xC943, 0x30, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_CONTRAST_GRADIENT
	{0xC944, 0x22, MSM_CAMERA_I2C_BYTE_DATA},	//0x26	// CAM_LL_START_CONTRAST_LUMA_PERCENTAGE
	{0xC945, 0x19, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_CONTRAST_LUMA_PERCENTAGE
	// changed for fixing FTB
	{0xC94A, 0x00F0,}, 	// CAM_LL_START_FADE_TO_BLACK_LUMA
	{0xC94C, 0x0010,}, 	// CAM_LL_STOP_FADE_TO_BLACK_LUMA
	{0xC94E, 0x01CD,}, 	// CAM_LL_CLUSTER_DC_TH_BM
	{0xC950, 0x05, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_CLUSTER_DC_GATE_PERCENTAGE
	{0xC951, 0x40, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_SUMMING_SENSITIVITY_FACTOR

	// 02162012, Rev3, Alias
	// for AE to 135 and low light between 80~180 at color checker block 18.
	{0xC87A, 0x37, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AET_TARGET_AVERAGE_LUMA
	{0xC87B, 0x0E, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AET_TARGET_AVERAGE_LUMA_DARK
	
	// set AE target to default to 128
	// 02072012, Rev2, Alias
	// Modified AE target to 130~140
	{0xC878, 0x0E, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AET_AEMODE  -- for DR test
	{0xC890, 0x0080,}, 	// CAM_AET_TARGET_GAIN
	// 03122012, Rev5, Alias
	// Increase AE_ vir_digit_gain for low light test on device
	{0xC882, 0x0100,}, 	// CAM_AET_AE_MAX_VIRT_DGAIN
	//
	{0xC886, 0x0100,}, 	// CAM_AET_AE_MAX_VIRT_AGAIN
	{0xA404, 0x02, MSM_CAMERA_I2C_BYTE_DATA},	// AE_RULE_ALGO
	
	// modified for 2'nd BL
	// 03122012, Rev5, Alias
	// Fix gray scale error
	{0xC87C, 0x0016,}, 
	{0xB42A, 0x05, MSM_CAMERA_I2C_BYTE_DATA},	// CCM_DELTA_GAIN
	// 02072012, Rev2, Alias
	// Improve AE Tracking speed
	{0xA80A, 0x10, MSM_CAMERA_I2C_BYTE_DATA},	// AE_TRACK_AE_TRACKING_DAMPENING_SPEED
	
	// 03122012, Rev5, Alias
	// Increase sharpness (2D-Aperture correction)
	{0x326C, 0x1706,}, 	// APERTURE_PARAMETERS_2D
	
	// LOAD=Step8-Features		
	{0x098E, 0x0000,}, 	// LOGICAL_ADDRESS_ACCESS
	{0xC984, 0x8040,}, 	// CAM_PORT_OUTPUT_CONTROL
	{0x001E, 0x0777,}, 	// PAD_SLEW
	
	// LOAD=MIPI setting for SOC1040
	{0xC984, 0x8041,}, 	// CAM_PORT_OUTPUT_CONTROL
	{0xC988, 0x0F00,}, 	// CAM_PORT_MIPI_TIMING_T_HS_ZERO
	{0xC98A, 0x0B07,}, 	// CAM_PORT_MIPI_TIMING_T_HS_EXIT_HS_TRAIL
	{0xC98C, 0x0D01,}, 	// CAM_PORT_MIPI_TIMING_T_CLK_POST_CLK_PRE
	{0xC98E, 0x071D,}, 	// CAM_PORT_MIPI_TIMING_T_CLK_TRAIL_CLK_ZERO
	{0xC990, 0x0006,}, 	// CAM_PORT_MIPI_TIMING_T_LPX
	{0xC992, 0x0A0C,}, 	// CAM_PORT_MIPI_TIMING_INIT_TIMING
	{0x3C5A, 0x0009,}, 	// MIPI_DELAY_TRIM
	
	// LOAD=Dual Lane Mipi Receiver Init
	// LOAD=Enter Suspend
	{0xDC00, 0x40, MSM_CAMERA_I2C_BYTE_DATA},	// SYSMGR_NEXT_STATE
	{0x0080, 0x8002,}, 	// COMMAND_REGISTER
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},// Polling R0x0080[1] till "0".
	
	//LOAD=Leave Suspend
	{0xDC00, 0x34, MSM_CAMERA_I2C_BYTE_DATA},	// SYSMGR_NEXT_STATE
	{0x0080, 0x8002,}, 	// COMMAND_REGISTER
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},	// Polling R0x0080[1] till "0".
		
	{0x098E, 0x2802,}, 	// LOGICAL_ADDRESS_ACCESS
	{0xC908, 0x01, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_SKIP_FRAMES
	{0xC879, 0x01, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AET_SKIP_FRAMES
	{0xC909, 0x02, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_AWBMODE
	
	// 02072012, Rev2, Alias
	// Improve AE Dampening speed
	{0xA80B, 0x04, MSM_CAMERA_I2C_BYTE_DATA},	// AE_TRACK_AE_DAMPENING_SPEED
	{0xAC16, 0x18, MSM_CAMERA_I2C_BYTE_DATA},	// AWB_PRE_AWB_RATIOS_TRACKING_SPEED
	{0xDC00, 0x28, MSM_CAMERA_I2C_BYTE_DATA},	// SYSMGR_NEXT_STATE
	{0x0080, 0x8002,}, 	// COMMAND_REGISTER
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},	// Polling R0x0080[1] till "0".
	//end of initialization
};
/*BEGIN Chaoyen_Wu@pegatron[2012.4.12][Add Chicony module IQ]*/

#if 0
/*BEGIN [Chaoyen_Wu@pegatron][2012.3.8][tune IQ performance 20120217]*/
static struct msm_camera_i2c_reg_conf mt9m114_recommend_settings[] = {
	//[Initialization]
	// Hardware Reset, need to be done by hardware or host processor.
	// Reset 
	// Polling R0x0080[1] till "0".
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},	
		
	// load= errata item 2
	{0x301A, 0x0234,}, 	// RESET_REGISTER
	
	// [Step2-PLL_Timing]
	// LOAD=PLL_settings
	{0x098E, 0x0000,}, 	// LOGICAL_ADDRESS_ACCESS
	{0xC97E, 0x01, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_SYSCTL_PLL_ENABLE
	{0xC980, 0x0120,}, 	// CAM_SYSCTL_PLL_DIVIDER_M_N
	{0xC982, 0x0700,}, 	// CAM_SYSCTL_PLL_DIVIDER_P
	
	// LOAD=Timing_settings   
	{0x98E, 0x0000,}, 		// set XDMA to logical addressing
	{0xC800, 0x0004,}, 		// CAM_SENSOR_CFG_Y_ADDR_START
	{0xC802, 0x0004,}, 		// CAM_SENSOR_CFG_X_ADDR_START
	{0xC804, 0x03CB,}, 		// CAM_SENSOR_CFG_Y_ADDR_END
	{0xC806, 0x050B,}, 		// CAM_SENSOR_CFG_X_ADDR_END
	// data length is double words
	{0xC808, 0x02DC,},
	{0xC80c, 0X6C00,}, 	// CAM_SENSOR_CFG_PIXCLK
	//
	{0xC80C, 0x0001,}, 	// CAM_SENSOR_CFG_ROW_SPEED
	{0xC80E, 0x00DB,}, 	// CAM_SENSOR_CFG_FINE_INTEG_TIME_MIN
	{0xC810, 0x05B3,}, 	// CAM_SENSOR_CFG_FINE_INTEG_TIME_MAX
	{0xC812, 0x03EE,}, 	// CAM_SENSOR_CFG_FRAME_LENGTH_LINES
	{0xC814, 0x0636,}, 	// CAM_SENSOR_CFG_LINE_LENGTH_PCK
	{0xC816, 0x0060,}, 	// CAM_SENSOR_CFG_FINE_CORRECTION
	{0xC818, 0x03C3,}, 	// CAM_SENSOR_CFG_CPIPE_LAST_ROW
	{0xC834, 0x0000,}, 	// CAM_SENSOR_CONTROL_READ_MODE
	{0xC854, 0x0000,}, 	// CAM_CROP_WINDOW_XOFFSET
	{0xC856, 0x0000,}, 	// CAM_CROP_WINDOW_YOFFSET
	{0xC858, 0x0500,}, 	// CAM_CROP_WINDOW_WIDTH
	{0xC85A, 0x03C0,}, 	// CAM_CROP_WINDOW_HEIGHT
	{0xC85C, 0x03, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_CROP_CROPMODE
	{0xC868, 0x0500,}, 	// CAM_OUTPUT_WIDTH
	{0xC86A, 0x03C0,}, 	// CAM_OUTPUT_HEIGHT
	{0xC88C, 0x1E02,}, 	// CAM_AET_MAX_FRAME_RATE
	// Changed to varied frame rate to 7.5~30fps
	{0xC88E, 0x0780,}, 	// CAM_AET_MIN_FRAME_RATE
	
	{0xC914, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XSTART
	{0xC916, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_YSTART
	{0xC918, 0x04FF,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XEND
	{0xC91A, 0x03BF,}, 	// CAM_STAT_AWB_CLIP_WINDOW_YEND
	{0xC91C, 0x0000,}, 	// CAM_STAT_AE_INITIAL_WINDOW_XSTART
	{0xC91E, 0x0000,}, 	// CAM_STAT_AE_INITIAL_WINDOW_YSTART
	{0xC920, 0x00FF,}, 	// CAM_STAT_AE_INITIAL_WINDOW_XEND
	{0xC922, 0x00BF,}, 	// CAM_STAT_AE_INITIAL_WINDOW_YEND
	{0xE801, 0x0000,},	// AUTO_BINNING_MODE
	
	
	//[Step3-Recommended]
	//[Sensor optimization]
	{0x316A, 0x8270,}, 	// DAC_TXLO_ROW
	{0x316C, 0x8270,}, 	// DAC_TXLO
	{0x3ED0, 0x2305,}, 	// DAC_LD_4_5
	{0x3ED2, 0x77CF,}, 	// DAC_LD_6_7
	{0x316E, 0x8202,}, 	// DAC_ECL
	{0x3180, 0x87FF,}, 	// DELTA_DK_CONTROL
	{0x30D4, 0x6080,}, 	// COLUMN_CORRECTION
	{0xA802, 0x0008,}, 	// AE_TRACK_MODE
	
	// LOAD=Errata item 1
	{0x3E14, 0xFF39,}, 	// SAMP_COL_PUP2
	
	
	// PGA parameter and APGA
	//[Step4-APGA]
	// Lens register settings for A-1040SOC (MT9M114) REV2
	
	// 02162012, Rev3, Alias
	{0x3640, 0x0330,}, 	// P_G1_P0Q0
	{0x3642, 0x406B,}, 	// P_G1_P0Q1
	{0x3644, 0x1D71,}, 	// P_G1_P0Q2
	{0x3646, 0xDD0D,}, 	// P_G1_P0Q3
	{0x3648, 0x068E,}, 	// P_G1_P0Q4
	{0x364A, 0x00D0,}, 	// P_R_P0Q0
	{0x364C, 0x6DEB,}, 	// P_R_P0Q1
	{0x364E, 0x41F1,}, 	// P_R_P0Q2
	{0x3650, 0xADAD,}, 	// P_R_P0Q3
	{0x3652, 0x1D2F,}, 	// P_R_P0Q4
	{0x3654, 0x0130,}, 	// P_B_P0Q0
	{0x3656, 0x53EB,}, 	// P_B_P0Q1
	{0x3658, 0x0BD1,}, 	// P_B_P0Q2
	{0x365A, 0xE54B,}, 	// P_B_P0Q3
	{0x365C, 0x762D,}, 	// P_B_P0Q4
	{0x365E, 0x0150,}, 	// P_G2_P0Q0
	{0x3660, 0x7D6A,}, 	// P_G2_P0Q1
	{0x3662, 0x2191,}, 	// P_G2_P0Q2
	{0x3664, 0xE58D,}, 	// P_G2_P0Q3
	{0x3666, 0x4B0C,}, 	// P_G2_P0Q4
	{0x3680, 0xFCCC,},	// P_G1_P1Q0
	{0x3682, 0x730C,}, 	// P_G1_P1Q1
	{0x3684, 0xECCC,}, 	// P_G1_P1Q2
	{0x3686, 0x8F4C,}, 	// P_G1_P1Q3
	{0x3688, 0xC58C,}, 	// P_G1_P1Q4
	{0x368A, 0x83CD,}, 	// P_R_P1Q0
	{0x368C, 0x6DEB,}, 	// P_R_P1Q1
	{0x368E, 0xF82D,}, 	// P_R_P1Q2
	{0x3690, 0x334C,}, 	// P_R_P1Q3
	{0x3692, 0xE169,}, 	// P_R_P1Q4
	{0x3694, 0x9D0A,}, 	// P_B_P1Q0
	{0x3696, 0xB2AC,}, 	// P_B_P1Q1
	{0x3698, 0x90AE,}, 	// P_B_P1Q2
	{0x369A, 0xE929,}, 	// P_B_P1Q3
	{0x369C, 0xC00F,}, 	// P_B_P1Q4
	{0x369E, 0xFCCB,}, 	// P_G2_P1Q0
	{0x36A0, 0xA926,}, 	// P_G2_P1Q1
	{0x36A2, 0xC0EF,}, 	// P_G2_P1Q2
	{0x36A4, 0x546A,}, 	// P_G2_P1Q3
	{0x36A6, 0x4C2E,}, 	// P_G2_P1Q4
	{0x36C0, 0x2F91,}, 	// P_G1_P2Q0
	{0x36C2, 0xEB4E,}, 	// P_G1_P2Q1
	{0x36C4, 0xEF10,}, 	// P_G1_P2Q2
	{0x36C6, 0x3270,}, 	// P_G1_P2Q3
	{0x36C8, 0x5713,}, 	// P_G1_P2Q4
	{0x36CA, 0x5371,}, 	// P_R_P2Q0
	{0x36CC, 0xB98E,}, 	// P_R_P2Q1
	{0x36CE, 0x4CB0,}, 	// P_R_P2Q2
	{0x36D0, 0x7A70,}, 	// P_R_P2Q3
	{0x36D2, 0x0772,}, 	// P_R_P2Q4
	{0x36D4, 0x2ED1,}, 	// P_B_P2Q0
	{0x36D6, 0xA40E,}, 	// P_B_P2Q1
	{0x36D8, 0xD0F1,}, 	// P_B_P2Q2
	{0x36DA, 0x3151,}, 	// P_B_P2Q3
	{0x36DC, 0x04F4,}, 	// P_B_P2Q4
	{0x36DE, 0x2C31,}, 	// P_G2_P2Q0
	{0x36E0, 0xEC6E,}, 	// P_G2_P2Q1
	{0x36E2, 0xEED0,}, 	// P_G2_P2Q2
	{0x36E4, 0x0890,}, 	// P_G2_P2Q3
	{0x36E6, 0x53F3,}, 	// P_G2_P2Q4
	{0x3700, 0xB44D,}, 	// P_G1_P3Q0
	{0x3702, 0xBCCE,}, 	// P_G1_P3Q1
	{0x3704, 0x856F,}, 	// P_G1_P3Q2
	{0x3706, 0x396F,}, 	// P_G1_P3Q3
	{0x3708, 0x552F,}, 	// P_G1_P3Q4
	{0x370A, 0xD12E,}, 	// P_R_P3Q0
	{0x370C, 0x2FAA,}, 	// P_R_P3Q1
	{0x370E, 0xE0EF,}, 	// P_R_P3Q2
	{0x3710, 0x8310,}, 	// P_R_P3Q3
	{0x3712, 0x55B1,}, 	// P_R_P3Q4
	{0x3714, 0x2DCB,}, 	// P_B_P3Q0
	{0x3716, 0x156E,}, 	// P_B_P3Q1
	{0x3718, 0xEC71,}, 	// P_B_P3Q2
	{0x371A, 0x99CD,}, 	// P_B_P3Q3
	{0x371C, 0x2CB3,}, 	// P_B_P3Q4
	{0x371E, 0x012B,}, 	// P_G2_P3Q0
	{0x3720, 0xD56C,}, 	// P_G2_P3Q1
	{0x3722, 0xC24E,}, 	// P_G2_P3Q2
	{0x3724, 0x6CCE,}, 	// P_G2_P3Q3
	{0x3726, 0x2A10,}, 	// P_G2_P3Q4
	{0x3740, 0x11AB,}, 	// P_G1_P4Q0
	{0x3742, 0x2630,}, 	// P_G1_P4Q1
	{0x3744, 0x0834,}, 	// P_G1_P4Q2
	{0x3746, 0xB1B2,}, 	// P_G1_P4Q3
	{0x3748, 0xF8B5,}, 	// P_G1_P4Q4
	{0x374A, 0x0E6D,}, 	// P_R_P4Q0
	{0x374C, 0x126F,}, 	// P_R_P4Q1
	{0x374E, 0x5E92,}, 	// P_R_P4Q2
	{0x3750, 0xD832,}, 	// P_R_P4Q3
	{0x3752, 0xA1F5,}, 	// P_R_P4Q4
	{0x3754, 0xD510,}, 	// P_B_P4Q0
	{0x3756, 0x658F,}, 	// P_B_P4Q1
	{0x3758, 0x4934,}, 	// P_B_P4Q2
	{0x375A, 0xA9F3,}, 	// P_B_P4Q3
	{0x375C, 0x9B76,}, 	// P_B_P4Q4
	{0x375E, 0x0F2E,}, 	// P_G2_P4Q0
	{0x3760, 0x2130,}, 	// P_G2_P4Q1
	{0x3762, 0x02D4,}, 	// P_G2_P4Q2
	{0x3764, 0x9052,}, 	// P_G2_P4Q3
	{0x3766, 0xFA15,}, 	// P_G2_P4Q4
	{0x3780, 0x0048,}, 	// PGA_CONTROL
	{0x3782, 0x01AC,}, // 0x01D0	// CENTER_ROW
	{0x3784, 0x0288,}, // 0x0280	// CENTER_COLUMN
	{0x3786, 0x0004,}, 	// PGA_Y_ADDR_START
	{0x3788, 0x03CB,},	// PGA_Y_ADDR_END
	{0x378A, 0x0004,}, 	// PGA_X_ADDR_START
	{0x378C, 0x050B,}, 	// PGA_X_ADDR_END
	
	{0x098E, 0x4960,}, 	// LOGICAL_ADDRESS_ACCESS [CAM_PGA_L_CONFIG_COLOUR_TEMP]
	{0xC960, 0x0AF0,}, 	// CAM_PGA_L_CONFIG_COLOUR_TEMP
	{0xC962, 0x7899,}, 	// CAM_PGA_L_CONFIG_GREEN_RED_Q14
	{0xC964, 0x5F20,}, 	// CAM_PGA_L_CONFIG_RED_Q14
	{0xC966, 0x77CC,}, 	// CAM_PGA_L_CONFIG_GREEN_BLUE_Q14
	{0xC968, 0x7D09,}, 	// CAM_PGA_L_CONFIG_BLUE_Q14
	{0xC96A, 0x109A,}, 	// CAM_PGA_M_CONFIG_COLOUR_TEMP
	{0xC96C, 0x7E4D,}, 	// CAM_PGA_M_CONFIG_GREEN_RED_Q14
	{0xC96E, 0x7E22,}, 	// CAM_PGA_M_CONFIG_RED_Q14
	{0xC970, 0x7EB7,}, 	// CAM_PGA_M_CONFIG_GREEN_BLUE_Q14
	{0xC972, 0x7D05,}, 	// CAM_PGA_M_CONFIG_BLUE_Q14
	{0xC974, 0x1964,}, 	// CAM_PGA_R_CONFIG_COLOUR_TEMP
	{0xC976, 0x7F6E,}, 	// CAM_PGA_R_CONFIG_GREEN_RED_Q14
	{0xC978, 0x82E6,}, 	// CAM_PGA_R_CONFIG_RED_Q14
	{0xC97A, 0x80FB,}, 	// CAM_PGA_R_CONFIG_GREEN_BLUE_Q14
	{0xC97C, 0x7F41,}, 	// CAM_PGA_R_CONFIG_BLUE_Q14
	{0xC95E, 0x0003,}, 	// CAM_PGA_PGA_CONTROL
		
	// [Step5-AWB_CCM]1: LOAD=CCM
	{0xC892, 0x0267,}, 	// CAM_AWB_CCM_L_0
	{0xC894, 0xFF1A,}, 	// CAM_AWB_CCM_L_1
	{0xC896, 0xFFB3,}, 	// CAM_AWB_CCM_L_2
	{0xC898, 0xFF80,}, 	// CAM_AWB_CCM_L_3
	{0xC89A, 0x0166,}, 	// CAM_AWB_CCM_L_4
	{0xC89C, 0x0003,}, 	// CAM_AWB_CCM_L_5
	{0xC89E, 0xFF9A,}, 	// CAM_AWB_CCM_L_6
	{0xC8A0, 0xFEB4,}, 	// CAM_AWB_CCM_L_7
	{0xC8A2, 0x024D,}, 	// CAM_AWB_CCM_L_8
	{0xC8A4, 0x01BF,}, 	// CAM_AWB_CCM_M_0
	{0xC8A6, 0xFF01,}, 	// CAM_AWB_CCM_M_1
	{0xC8A8, 0xFFF3,}, 	// CAM_AWB_CCM_M_2
	{0xC8AA, 0xFF75,}, 	// CAM_AWB_CCM_M_3
	{0xC8AC, 0x0198,}, 	// CAM_AWB_CCM_M_4
	{0xC8AE, 0xFFFD,}, 	// CAM_AWB_CCM_M_5
	{0xC8B0, 0xFF9A,}, 	// CAM_AWB_CCM_M_6
	{0xC8B2, 0xFEE7,}, 	// CAM_AWB_CCM_M_7
	{0xC8B4, 0x02A8,}, 	// CAM_AWB_CCM_M_8
	// 02162012, Rev3, Alias
	// Modified CCM saturation settings

	{0xC8B6, 0x0100,}, 	// CAM_AWB_CCM_R_0
	{0xC8B8, 0xFF72,}, 	// CAM_AWB_CCM_R_1
	{0xC8BA, 0xFFF8,}, 	// CAM_AWB_CCM_R_2
	{0xC8BC, 0xFFA8,}, 	// CAM_AWB_CCM_R_3
	{0xC8BE, 0x011D,}, 	// CAM_AWB_CCM_R_4
	{0xC8C0, 0xFFFB,}, 	// CAM_AWB_CCM_R_5
	{0xC8C2, 0xFFE3,}, 	// CAM_AWB_CCM_R_6
	{0xC8C4, 0xFE48,}, 	// CAM_AWB_CCM_R_7
	{0xC8C6, 0x0356,}, 	// CAM_AWB_CCM_R_8
	//
	
	{0xC8DA, 0x004D,}, 	// CAM_AWB_LL_CCM_0
	{0xC8DC, 0x0096,}, 	// CAM_AWB_LL_CCM_1
	{0xC8DE, 0x001D,}, 	// CAM_AWB_LL_CCM_2
	{0xC8E0, 0x004D,}, 	// CAM_AWB_LL_CCM_3
	{0xC8E2, 0x0096,}, 	// CAM_AWB_LL_CCM_4
	{0xC8E4, 0x001D,}, 	// CAM_AWB_LL_CCM_5
	{0xC8E6, 0x004D,}, 	// CAM_AWB_LL_CCM_6
	{0xC8E8, 0x0096,}, 	// CAM_AWB_LL_CCM_7
	{0xC8EA, 0x001D,}, 	// CAM_AWB_LL_CCM_8
	{0xC8C8, 0x0075,}, 	// CAM_AWB_CCM_L_RG_GAIN
	{0xC8CA, 0x011C,}, 	// CAM_AWB_CCM_L_BG_GAIN
	{0xC8CC, 0x009A,}, 	// CAM_AWB_CCM_M_RG_GAIN
	{0xC8CE, 0x0105,}, 	// CAM_AWB_CCM_M_BG_GAIN
	{0xC8D0, 0x00A4,}, 	// CAM_AWB_CCM_R_RG_GAIN
	{0xC8D2, 0x00AC,}, 	// CAM_AWB_CCM_R_BG_GAIN
	{0xC8D4, 0x0A8C,}, 	// CAM_AWB_CCM_L_CTEMP
	{0xC8D6, 0x0F0A,}, 	// CAM_AWB_CCM_M_CTEMP
	{0xC8D8, 0x1964,}, 	// CAM_AWB_CCM_R_CTEMP


	// LOAD=AWB
	{0xC914, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XSTART
	{0xC916, 0x0000,}, 	// CAM_STAT_AWB_CLIP_WINDOW_YSTART
	{0xC918, 0x04FF,}, 	// CAM_STAT_AWB_CLIP_WINDOW_XEND
	// Rev3, 20110808, Alias -- for DR test
	{0xC91A, 0x03BF,}, //0x02CF	// CAM_STAT_AWB_CLIP_WINDOW_YEND
	
	
	{0xC8F2, 0x04, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_AWB_XSCALE
	{0xC8F3, 0x02, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_AWB_YSCALE
	{0xC904, 0x0033,}, 	// CAM_AWB_AWB_XSHIFT_PRE_ADJ
	{0xC906, 0x0040,}, 	// CAM_AWB_AWB_YSHIFT_PRE_ADJ
	{0xC8F4, 0x0000,}, 	// CAM_AWB_AWB_WEIGHTS_0	 
	{0xC8F6, 0x0000,}, 	// CAM_AWB_AWB_WEIGHTS_1
	{0xC8F8, 0x0000,}, 	// CAM_AWB_AWB_WEIGHTS_2
	{0xC8FA, 0xE724,}, 	// CAM_AWB_AWB_WEIGHTS_3
	{0xC8FC, 0x1583,}, 	// CAM_AWB_AWB_WEIGHTS_4
	{0xC8FE, 0x2045,}, 	// CAM_AWB_AWB_WEIGHTS_5
	{0xC900, 0x05DC,}, 	// CAM_AWB_AWB_WEIGHTS_6
	{0xC902, 0x007C,}, 	// CAM_AWB_AWB_WEIGHTS_7
	{0xC90A, 0x1004,}, 	// CAM_AWB_TINTS_CTEMP_THRESHOLD
	{0xC90C, 0x80, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_K_R_L
	{0xC90D, 0x86, MSM_CAMERA_I2C_BYTE_DATA},	//0x80	// CAM_AWB_K_G_L
	{0xC90E, 0x80, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_K_B_L
	{0xC90F, 0x82, MSM_CAMERA_I2C_BYTE_DATA},	//0x88	// CAM_AWB_K_R_R
	{0xC910, 0x8C, MSM_CAMERA_I2C_BYTE_DATA},	//0x80	// CAM_AWB_K_G_R
	{0xC911, 0x80, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_K_B_R
	
	{0xAC07, 0x66, MSM_CAMERA_I2C_BYTE_DATA},	// AWB_R_RATIO_UPPER
	{0xAC09, 0x66, MSM_CAMERA_I2C_BYTE_DATA},	// AWB_B_RATIO_UPPER
	
	
	// LOAD=Step7-CPIPE_Preference	
	// changed for fixing AE test at LV6
	{0xC926, 0x0060,}, 	// CAM_LL_START_BRIGHTNESS
	//
	{0xC928, 0x009A,}, 	// CAM_LL_STOP_BRIGHTNESS
	{0xC946, 0x0070,}, 	// CAM_LL_START_GAIN_METRIC
	{0xC948, 0x00F3,}, 	// CAM_LL_STOP_GAIN_METRIC
	//
	// changed for fixing AE test at LV6
	{0xC952, 0x0060,}, 	// CAM_LL_START_TARGET_LUMA_BM
	//
	{0xC954, 0x009A,}, 	// CAM_LL_STOP_TARGET_LUMA_BM
	// 02072012, Rev2, Alias
	// Modified default saturation to 110%
	{0xC92A, 0x88, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_SATURATION
	{0xC92B, 0x4B, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_END_SATURATION
	{0xC92C, 0x00, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_DESATURATION
	{0xC92D, 0xFF, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_END_DESATURATION
	{0xC92E, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_DEMOSAIC
	//
	// 02162012, Rev3, Alias
	// Modified Sharpness setting
	{0xC92F, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_AP_GAIN

	//
	{0xC930, 0x06, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_AP_THRESH
	{0xC931, 0x64, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_DEMOSAIC
	{0xC932, 0x01, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_AP_GAIN
	{0xC933, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_AP_THRESH
	{0xC934, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_NR_RED
	{0xC935, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_NR_GREEN
	{0xC936, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_NR_BLUE
	{0xC937, 0x0F, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_START_NR_THRESH
	{0xC938, 0x64, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_NR_RED
	{0xC939, 0x64, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_NR_GREEN
	{0xC93A, 0x64, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_NR_BLUE
	{0xC93B, 0x32, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_NR_THRESH
	//
	{0xC93C, 0x0005,}, 	// CAM_LL_START_CONTRAST_BM
	{0xC93E, 0x0358,}, 	// CAM_LL_STOP_CONTRAST_BM
	//
	{0xC940, 0x00DC,}, 	// CAM_LL_GAMMA
	{0xC942, 0x3C, MSM_CAMERA_I2C_BYTE_DATA},	//0x44	// CAM_LL_START_CONTRAST_GRADIENT
	{0xC943, 0x30, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_CONTRAST_GRADIENT
	{0xC944, 0x22, MSM_CAMERA_I2C_BYTE_DATA},	//0x26	// CAM_LL_START_CONTRAST_LUMA_PERCENTAGE
	{0xC945, 0x19, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_STOP_CONTRAST_LUMA_PERCENTAGE
	//
	// changed for fixing FTB
	{0xC94A, 0x00F0,}, 	// CAM_LL_START_FADE_TO_BLACK_LUMA
	//
	{0xC94C, 0x0010,}, 	// CAM_LL_STOP_FADE_TO_BLACK_LUMA
	{0xC94E, 0x01CD,}, 	// CAM_LL_CLUSTER_DC_TH_BM
	{0xC950, 0x05, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_CLUSTER_DC_GATE_PERCENTAGE
	{0xC951, 0x40, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_LL_SUMMING_SENSITIVITY_FACTOR
	//
	
	
	// 02162012, Rev3, Alias
	// for AE to 135 and low light between 80~180 at color checker block 18.
	{0xC87A, 0x37, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AET_TARGET_AVERAGE_LUMA
	{0xC87B, 0x0E, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AET_TARGET_AVERAGE_LUMA_DARK
	
	// set AE target to default to 128
	// 02072012, Rev2, Alias
	// Modified AE target to 130~140
	{0xC878, 0x0E, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AET_AEMODE  -- for DR test
	{0xC890, 0x0080,}, 	// CAM_AET_TARGET_GAIN
	{0xC886, 0x0100,}, 	// CAM_AET_AE_MAX_VIRT_AGAIN
/*BEGIN [Chaoyen_Wu@pegatron][2012.3.12] [modify iq performance]*/	
	{0xC882, 0x0100,},
/*END [Chaoyen_Wu@pegatron][2012.3.12] [modify iq performance]*/
	{0xA404, 0x02, MSM_CAMERA_I2C_BYTE_DATA},	// AE_RULE_ALGO
	//
	// modified for 2'nd BL
	{0xC87C, 0x0030,}, //0x0010	// CAM_AET_BLACK_CLIPPING_TARGET

	//
	{0xB42A, 0x05, MSM_CAMERA_I2C_BYTE_DATA},	// CCM_DELTA_GAIN
	// 02072012, Rev2, Alias
	// Improve AE Tracking speed
	{0xA80A, 0x10, MSM_CAMERA_I2C_BYTE_DATA},	// AE_TRACK_AE_TRACKING_DAMPENING_SPEED
	
	// LOAD=Step8-Features		
	{0x098E, 0x0000,}, 	// LOGICAL_ADDRESS_ACCESS
	{0xC984, 0x8040,}, 	// CAM_PORT_OUTPUT_CONTROL
	{0x001E, 0x0777,}, 	// PAD_SLEW
	
	// LOAD=MIPI setting for SOC1040
	{0xC984, 0x8041,}, 	// CAM_PORT_OUTPUT_CONTROL
	{0xC988, 0x0F00,}, 	// CAM_PORT_MIPI_TIMING_T_HS_ZERO
	{0xC98A, 0x0B07,}, 	// CAM_PORT_MIPI_TIMING_T_HS_EXIT_HS_TRAIL
	{0xC98C, 0x0D01,}, 	// CAM_PORT_MIPI_TIMING_T_CLK_POST_CLK_PRE
	{0xC98E, 0x071D,}, 	// CAM_PORT_MIPI_TIMING_T_CLK_TRAIL_CLK_ZERO
	{0xC990, 0x0006,}, 	// CAM_PORT_MIPI_TIMING_T_LPX
	{0xC992, 0x0A0C,}, 	// CAM_PORT_MIPI_TIMING_INIT_TIMING
	{0x3C5A, 0x0009,}, 	// MIPI_DELAY_TRIM
	
	
	// LOAD=Dual Lane Mipi Receiver Init
	// LOAD=Enter Suspend
	{0xDC00, 0x40, MSM_CAMERA_I2C_BYTE_DATA},	// SYSMGR_NEXT_STATE
	{0x0080, 0x8002,}, 	// COMMAND_REGISTER
	
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},		// Polling R0x0080[1] till "0".
		
	// following two lines of setting are for dual lane MIPI Rx board used only, 
	// Please enable your MIPI Rx here or make sure it is ready for receiving data
	// [Dual Lane Mipi Receiver Init]3: 
	//DELAY=500
	//SERIAL_REG=0xCA, 0x00, 0x8000, 8:16   
	//SERIAL_REG=0xCA, 0x00, 0x0006, 8:16   
	//DELAY=500
	
	//LOAD=Leave Suspend
	{0xDC00, 0x34, MSM_CAMERA_I2C_BYTE_DATA},	// SYSMGR_NEXT_STATE
	{0x0080, 0x8002,}, 	// COMMAND_REGISTER
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},		// Polling R0x0080[1] till "0".
		
	{0x098E, 0x2802,}, 	// LOGICAL_ADDRESS_ACCESS
	{0xC908, 0x01, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_SKIP_FRAMES
	{0xC879, 0x01, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AET_SKIP_FRAMES
	{0xC909, 0x02, MSM_CAMERA_I2C_BYTE_DATA},	// CAM_AWB_AWBMODE
	// 02072012, Rev2, Alias
	// Improve AE Dampening speed
	{0xA80B, 0x04, MSM_CAMERA_I2C_BYTE_DATA},	// AE_TRACK_AE_DAMPENING_SPEED
	//
	
	{0xAC16, 0x18, MSM_CAMERA_I2C_BYTE_DATA},	// AWB_PRE_AWB_RATIOS_TRACKING_SPEED
	{0xDC00, 0x28, MSM_CAMERA_I2C_BYTE_DATA},	// SYSMGR_NEXT_STATE
	{0x0080, 0x8002,}, 	// COMMAND_REGISTER
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},		// Polling R0x0080[1] till "0".

	//end of initialization

};
/*END [Chaoyen_Wu@pegatron][2012.3.8][tune IQ performance 20120217]*/
#endif
/*END Chaoyen_Wu@pegatron[2012.3.13][tune IQ performance REV5]*/
static struct v4l2_subdev_info mt9m114_subdev_info[] = {
	{
	.code   = V4L2_MBUS_FMT_YUYV8_2X8,
	.colorspace = V4L2_COLORSPACE_JPEG,
	.fmt    = 1,
	.order    = 0,
	},
	/* more can be supported, to be added later */
};

static struct msm_camera_i2c_reg_conf mt9m114_config_change_settings[] = {
	{0xdc00, 0x28, MSM_CAMERA_I2C_BYTE_DATA, MSM_CAMERA_I2C_CMD_WRITE},
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},
	{MT9M114_COMMAND_REGISTER, (MT9M114_COMMAND_REGISTER_OK |
		MT9M114_COMMAND_REGISTER_SET_STATE), MSM_CAMERA_I2C_WORD_DATA,
		MSM_CAMERA_I2C_CMD_WRITE},
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_SET_STATE,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},
	{0xDC01, 0x31, MSM_CAMERA_I2C_BYTE_DATA},
};

static void mt9m114_stop_stream(struct msm_sensor_ctrl_t *s_ctrl) {}

static struct msm_camera_i2c_conf_array mt9m114_init_conf[] = {
	{mt9m114_recommend_settings,
	ARRAY_SIZE(mt9m114_recommend_settings), 0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_config_change_settings,
	ARRAY_SIZE(mt9m114_config_change_settings),
	0, MSM_CAMERA_I2C_WORD_DATA},
};
/*BEGIN Chaoyen_Wu@pegatron[2012.4.12][Add Chicony module IQ]*/	
static struct msm_camera_i2c_conf_array mt9m114_init_conf_2[] = {
	{mt9m114_recommend_settings_2,
	ARRAY_SIZE(mt9m114_recommend_settings_2), 0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_config_change_settings,
	ARRAY_SIZE(mt9m114_config_change_settings),
	0, MSM_CAMERA_I2C_WORD_DATA},
};
/*END Chaoyen_Wu@pegatron[2012.4.12][Add Chicony module IQ]*/

static struct msm_camera_i2c_conf_array mt9m114_confs[] = {
	{mt9m114_fullsize_setting,
	ARRAY_SIZE(mt9m114_fullsize_setting), 0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_720p_settings,
	ARRAY_SIZE(mt9m114_720p_settings), 0, MSM_CAMERA_I2C_WORD_DATA},
};
/*BEGIN Chaoyen_Wu@pegatron[2012.2.6][set front camera white balace]*/
static struct msm_camera_i2c_reg_conf mt9m114_white_balance[][8] = {
	{/*AWB -- default*/
	 {0x098E, 0x0000,},
	 {0xC909, 0x02, MSM_CAMERA_I2C_BYTE_DATA}, 
	},
	{/*D65*/
	 {0x098E, 0x0000,},
	 {0xC909, 0x00, MSM_CAMERA_I2C_BYTE_DATA},
	 {0xC8F0, 0x1964,}, 	 
	},
	{/*CWF*/
	 {0x098E, 0x0000,},
	 {0xC909, 0x00, MSM_CAMERA_I2C_BYTE_DATA},
	 {0xC8F0, 0x10D6},	 
	},
	{/*TL84*/
	 {0x098E, 0x0000,},
	 {0xC909, 0x00, MSM_CAMERA_I2C_BYTE_DATA},
	 {0xC8F0, 0x0E74},		 
	},
	{/*A Light*/
	 {0x098E, 0x0000,},
	 {0xC909, 0x00, MSM_CAMERA_I2C_BYTE_DATA},
	 {0xC8F0, 0x0A8C,},	 	 
	} 
};
static uint8_t mt9m114_white_balance_enum_map[] = {
	0,
	0, 	//CAMERA_WB_AUTO
	0, 	//CAMERA_WB_CUSTOM
	4, 	//CAMERA_WB_INCANDESCENT
	3, 	//CAMERA_WB_FLUORESCENT
	1, 	//CAMERA_WB_DAYLIGHT
	2,	//CAMERA_WB_CLOUDY_DAYLIGHT
	0, 	//CAMERA_WB_TWILIGHT
	0, 	//CAMERA_WB_SHADE

};
static int32_t mt9m114_sensor_set_wb(struct msm_sensor_ctrl_t *s_ctrl, uint8_t wb_val)
{
	uint16_t size = 0;
	CDBG("+++\n");
	
	switch(wb_val)
	{
		case 1:	
			size = 2;
			break;
		case 3:
		case 4:
		case 5:
		case 6:	
			size = 3;
			break;
		default:
			size = 1;
			break;
	}		
	printk("write tbl mt9m114_wb_settings[%u], size = %u, wb_val = %d\n", mt9m114_white_balance_enum_map[wb_val], size, wb_val);

	return msm_camera_i2c_write_tbl(s_ctrl->sensor_i2c_client,
									mt9m114_white_balance[mt9m114_white_balance_enum_map[wb_val]],
									size,
									MSM_CAMERA_I2C_WORD_DATA);	

}

/*END Chaoyen_Wu@pegatron[2012.2.6][set front camera white balace]*/
/*BEGIN Chaoyen_Wu@pegatron[2012.2.8][Enable front camera effect]*/
static struct msm_camera_i2c_reg_conf mt9m114_effect[][10] = {
	
	/*Normal -- default*/
	{
		{0x098E, 0xC874,}, 						  // LOGICAL_ADDRESS_ACCESS [CAM_SFX_CONTROL]
		{0xC874, 0x00, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_SFX_CONTROL
		{0xDC00, 0x28, MSM_CAMERA_I2C_BYTE_DATA}, // SYSMGR_NEXT_STATE
		{0x0080, 0x8004,}, 						  // COMMAND_REGISTER
	},
	/*Mono color effect*/
	{
		{0x098E, 0xC874,}, 						  // LOGICAL_ADDRESS_ACCESS [CAM_SFX_CONTROL]
		{0xC874, 0x01, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_SFX_CONTROL
		{0xDC00, 0x28, MSM_CAMERA_I2C_BYTE_DATA}, // SYSMGR_NEXT_STATE
		{0x0080, 0x8004,}, 						  // COMMAND_REGISTER
	},
	/*Solarize 1*/
	{
		{0x098E, 0xC874,}, 						  // LOGICAL_ADDRESS_ACCESS [CAM_SFX_CONTROL]
		{0xC874, 0x04, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_SFX_CONTROL
		{0xDC00, 0x28, MSM_CAMERA_I2C_BYTE_DATA}, // SYSMGR_NEXT_STATE
		{0x0080, 0x8004,}, 						  // COMMAND_REGISTER
	},	
	/*Sepia effect*/
	{
		{0x098E, 0xC874,}, 						  // LOGICAL_ADDRESS_ACCESS [CAM_SFX_CONTROL]
		{0xC874, 0x02, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_SFX_CONTROL
		{0xDC00, 0x28, MSM_CAMERA_I2C_BYTE_DATA}, // SYSMGR_NEXT_STATE
		{0x0080, 0x8004,}, 						  // COMMAND_REGISTER
	},
	/*Negative effect*/
	{
		{0x098E, 0xC874,}, 						  // LOGICAL_ADDRESS_ACCESS [CAM_SFX_CONTROL]
		{0xC874, 0x03, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_SFX_CONTROL
		{0xDC00, 0x28, MSM_CAMERA_I2C_BYTE_DATA}, // SYSMGR_NEXT_STATE
		{0x0080, 0x8004,}, 						  // COMMAND_REGISTER
	},	
	/*Solarize 2*/
	{
		{0x098E, 0xC874,}, 						  // LOGICAL_ADDRESS_ACCESS [CAM_SFX_CONTROL]
		{0xC874, 0x05, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_SFX_CONTROL
		{0xDC00, 0x28, MSM_CAMERA_I2C_BYTE_DATA}, // SYSMGR_NEXT_STATE
		{0x0080, 0x8004,}, 						  // COMMAND_REGISTER
	}

};
static uint8_t mt9m114_effect_enum_map[] = {
	CAMERA_EFFECT_OFF,       // 0
	CAMERA_EFFECT_MONO, 	 // 1
	CAMERA_EFFECT_SEPIA, 	 // 4
	CAMERA_EFFECT_NEGATIVE,  // 2
	CAMERA_EFFECT_SOLARIZE,  // 3	
	0, 						 // not support posterize(5)
	0,
	0,
	0,	     				 // not support aqua (8)
	0, 	 					 // not support emboss(9)
	0, 	 					 // not support sketch(10)
	0,      				 // not support neon (11)
};

static int32_t mt9m114_sensor_set_effect(struct msm_sensor_ctrl_t *s_ctrl, uint8_t effect)
{
	uint16_t size = 4;
	CDBG("+++\n");	
	printk("write tbl mt9m114_effect_settings[%u], size = %u, effect = %d\n", mt9m114_effect_enum_map[effect], size, effect);

	return msm_camera_i2c_write_tbl(s_ctrl->sensor_i2c_client,
									mt9m114_effect[mt9m114_effect_enum_map[effect]],
									size,
									MSM_CAMERA_I2C_WORD_DATA);	

}

/*END Chaoyen_Wu@pegatron[2012.2.8][Enable front camera effect]*/
/*BEGIN Chaoyen_Wu@pegatron[2012.2.13][Enable front camera saturation]*/
static struct msm_camera_i2c_reg_conf mt9m114_saturation[][10] = {
	//Saturation -6
	{
		{0x098E, 0x4C12,}, 	// LOGICAL_ADDRESS_ACCESS [UVC_SATURATION_CONTROL]
		{0xCC12, 0x002D,}, 	// UVC_SATURATION_CONTROL
		{0xC95A, 0x03, MSM_CAMERA_I2C_BYTE_DATA},
	},
	//Saturation -5
	{
		{0x098E, 0x4C12,}, 	// LOGICAL_ADDRESS_ACCESS [UVC_SATURATION_CONTROL]
		{0xCC12, 0x0038,}, 	// UVC_SATURATION_CONTROL	
		{0xC95A, 0x03, MSM_CAMERA_I2C_BYTE_DATA},
	},
	//Saturation -4
	{
		{0x098E, 0x4C12,}, 	// LOGICAL_ADDRESS_ACCESS [UVC_SATURATION_CONTROL]
		{0xCC12, 0x0046,}, 	// UVC_SATURATION_CONTROL	
		{0xC95A, 0x03, MSM_CAMERA_I2C_BYTE_DATA},
	},
	//Saturation -3
	{
		{0x098E, 0x4C12,}, 	// LOGICAL_ADDRESS_ACCESS [UVC_SATURATION_CONTROL]
		{0xCC12, 0x0055,}, 	// UVC_SATURATION_CONTROL
		{0xC95A, 0x03, MSM_CAMERA_I2C_BYTE_DATA},
	},	
	//Saturation -2
	{
		{0x098E, 0x4C12,}, 	// LOGICAL_ADDRESS_ACCESS [UVC_SATURATION_CONTROL]
		{0xCC12, 0x0064,}, 	// UVC_SATURATION_CONTROL		
		{0xC95A, 0x03, MSM_CAMERA_I2C_BYTE_DATA},
	},
	//Saturation -1
	{
		{0x098E, 0x4C12,}, 	// LOGICAL_ADDRESS_ACCESS [UVC_SATURATION_CONTROL]
		{0xCC12, 0x0073,}, 	// UVC_SATURATION_CONTROL	
		{0xC95A, 0x03, MSM_CAMERA_I2C_BYTE_DATA},
	},
	//Saturation 0: default
	{
		{0x098E, 0x4C12,}, 	// LOGICAL_ADDRESS_ACCESS [UVC_SATURATION_CONTROL]
		{0xCC12, 0x0080,}, 	// UVC_SATURATION_CONTROL		
		{0xC95A, 0x03, MSM_CAMERA_I2C_BYTE_DATA},
	},
	//Saturation +1
	{
		{0x098E, 0x4C12,}, 	// LOGICAL_ADDRESS_ACCESS [UVC_SATURATION_CONTROL]
		{0xCC12, 0x008E,}, 	// UVC_SATURATION_CONTROL
		{0xC95A, 0x03, MSM_CAMERA_I2C_BYTE_DATA},
	},
	//Saturation +2
	{
		{0x098E, 0x4C12,}, 	// LOGICAL_ADDRESS_ACCESS [UVC_SATURATION_CONTROL]
		{0xCC12, 0x007C,}, 	// UVC_SATURATION_CONTROL	
		{0xC95A, 0x04, MSM_CAMERA_I2C_BYTE_DATA},
	},
	//Saturation +3
	{
		{0x098E, 0x4C12,}, 	// LOGICAL_ADDRESS_ACCESS [UVC_SATURATION_CONTROL]
		{0xCC12, 0x008A,}, 	// UVC_SATURATION_CONTROL	
		{0xC95A, 0x04, MSM_CAMERA_I2C_BYTE_DATA},
	},
	//Saturation +4
	{
		{0x098E, 0x4C12,}, 	// LOGICAL_ADDRESS_ACCESS [UVC_SATURATION_CONTROL]
		{0xCC12, 0x007E,}, 	// UVC_SATURATION_CONTROL
		{0xC95A, 0x05, MSM_CAMERA_I2C_BYTE_DATA},
	},
	//Saturation +5
	{
		{0x098E, 0x4C12,}, 	// LOGICAL_ADDRESS_ACCESS [UVC_SATURATION_CONTROL]
		{0xCC12, 0x008E,}, 	// UVC_SATURATION_CONTROL	
		{0xC95A, 0x05, MSM_CAMERA_I2C_BYTE_DATA},
	},
	//Saturation +6
	{
		{0x098E, 0x4C12,}, 	// LOGICAL_ADDRESS_ACCESS [UVC_SATURATION_CONTROL]
		{0xCC12, 0x0078,}, 	// UVC_SATURATION_CONTROL
		{0xC95A, 0x07, MSM_CAMERA_I2C_BYTE_DATA},
	}
};
static uint8_t mt9m114_saturation_enum_map[] = {
	MSM_V4L2_SATURATION_L0,
	MSM_V4L2_SATURATION_L1,
	MSM_V4L2_SATURATION_L2,
	MSM_V4L2_SATURATION_L3,
	MSM_V4L2_SATURATION_L4,
	MSM_V4L2_SATURATION_L5,
	MSM_V4L2_SATURATION_L6,
	MSM_V4L2_SATURATION_L7,
	MSM_V4L2_SATURATION_L8,
	MSM_V4L2_SATURATION_L9,
	MSM_V4L2_SATURATION_L10,
	MSM_V4L2_SATURATION_L11,
	MSM_V4L2_SATURATION_L12,
};
static int32_t mt9m114_sensor_set_saturation(struct msm_sensor_ctrl_t *s_ctrl, uint8_t saturation)
{
	uint16_t size = 3;
	CDBG("+++\n");	
	printk("write tbl mt9m114_saturation_settings[%u], size = %u, saturation = %d\n", mt9m114_saturation_enum_map[saturation], size, saturation);

	return msm_camera_i2c_write_tbl(s_ctrl->sensor_i2c_client,
									mt9m114_saturation[mt9m114_saturation_enum_map[saturation]],
									size,
									MSM_CAMERA_I2C_WORD_DATA);	

}

#if 0
static struct msm_camera_i2c_reg_conf mt9m114_refresh[] = {
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_REFRESH,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},
	{MT9M114_COMMAND_REGISTER, (MT9M114_COMMAND_REGISTER_OK |
		MT9M114_COMMAND_REGISTER_REFRESH), MSM_CAMERA_I2C_WORD_DATA,
		MSM_CAMERA_I2C_CMD_WRITE},
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_REFRESH,
		MSM_CAMERA_I2C_UNSET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},
	{MT9M114_COMMAND_REGISTER, MT9M114_COMMAND_REGISTER_OK,
		MSM_CAMERA_I2C_SET_WORD_MASK, MSM_CAMERA_I2C_CMD_POLL},
};

static struct msm_camera_i2c_conf_array mt9m114_saturation_confs[][2] = {
	{{mt9m114_saturation[0],
		ARRAY_SIZE(mt9m114_saturation[0]), 0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_refresh,
		ARRAY_SIZE(mt9m114_refresh), 0, MSM_CAMERA_I2C_WORD_DATA},},
	{{mt9m114_saturation[1],
		ARRAY_SIZE(mt9m114_saturation[1]), 0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_refresh,
		ARRAY_SIZE(mt9m114_refresh), 0, MSM_CAMERA_I2C_WORD_DATA},},
	{{mt9m114_saturation[2],
		ARRAY_SIZE(mt9m114_saturation[2]), 0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_refresh,
		ARRAY_SIZE(mt9m114_refresh), 0, MSM_CAMERA_I2C_WORD_DATA},},
	{{mt9m114_saturation[3],
		ARRAY_SIZE(mt9m114_saturation[3]), 0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_refresh,
		ARRAY_SIZE(mt9m114_refresh), 0, MSM_CAMERA_I2C_WORD_DATA},},
	{{mt9m114_saturation[4],
		ARRAY_SIZE(mt9m114_saturation[4]), 0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_refresh,
		ARRAY_SIZE(mt9m114_refresh), 0, MSM_CAMERA_I2C_WORD_DATA},},
	{{mt9m114_saturation[5],
		ARRAY_SIZE(mt9m114_saturation[5]), 0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_refresh,
		ARRAY_SIZE(mt9m114_refresh), 0, MSM_CAMERA_I2C_WORD_DATA},},
	{{mt9m114_saturation[6],
		ARRAY_SIZE(mt9m114_saturation[6]), 0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_refresh,
		ARRAY_SIZE(mt9m114_refresh), 0, MSM_CAMERA_I2C_WORD_DATA},},
	{{mt9m114_saturation[7],
		ARRAY_SIZE(mt9m114_saturation[7]), 0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_refresh,
		ARRAY_SIZE(mt9m114_refresh), 0, MSM_CAMERA_I2C_WORD_DATA},},
	{{mt9m114_saturation[8],
		ARRAY_SIZE(mt9m114_saturation[8]), 0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_refresh,
		ARRAY_SIZE(mt9m114_refresh), 0, MSM_CAMERA_I2C_WORD_DATA},},
	{{mt9m114_saturation[9],
		ARRAY_SIZE(mt9m114_saturation[9]), 0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_refresh,
		ARRAY_SIZE(mt9m114_refresh), 0, MSM_CAMERA_I2C_WORD_DATA},},
	{{mt9m114_saturation[10],
		ARRAY_SIZE(mt9m114_saturation[10]),
		0, MSM_CAMERA_I2C_WORD_DATA},
	{mt9m114_refresh,
		ARRAY_SIZE(mt9m114_refresh), 0, MSM_CAMERA_I2C_WORD_DATA},},
};

static struct msm_camera_i2c_enum_conf_array mt9m114_saturation_enum_confs = {
	.conf = &mt9m114_saturation_confs[0][0],
	.conf_enum = mt9m114_saturation_enum_map,
	.num_enum = ARRAY_SIZE(mt9m114_saturation_enum_map),
	.num_index = ARRAY_SIZE(mt9m114_saturation_confs),
	.num_conf = ARRAY_SIZE(mt9m114_saturation_confs[0]),
	.data_type = MSM_CAMERA_I2C_WORD_DATA,
};

struct msm_sensor_v4l2_ctrl_info_t mt9m114_v4l2_ctrl_info[] = {
	{
		.ctrl_id = V4L2_CID_SATURATION,
		.min = MSM_V4L2_SATURATION_L0,
		.max = MSM_V4L2_SATURATION_L10,
		.step = 1,
		.enum_cfg_settings = &mt9m114_saturation_enum_confs,
		.s_v4l2_ctrl = msm_sensor_s_ctrl_by_enum,
	},
};
#endif
/*END Chaoyen_Wu@pegatron[2012.2.13][Enable front camera saturation]*/
/*BEGIN Chaoyen_Wu@pegatron[2012.2.14][Enable front camera sharpness]*/
static struct msm_camera_i2c_reg_conf mt9m114_sharpness[][10] = {

	//Sharpness -6
	{
		{0x098E, 0xC92F,},	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_AP_GAIN]
		{0xC92F, 0x00, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_GAIN
		{0xC930, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_THRESH
		{0x326C, 0x080C,},				//APERTURE_PARAMETER_2D
	},
	//Sharpness -5
	{
		{0x098E, 0xC92F,},	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_AP_GAIN]
		{0xC92F, 0x02, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_GAIN
		{0xC930, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_THRESH
		{0x326C, 0x0A0C,},				//APERTURE_PARAMETER_2D
	},
	//Sharpness -4
	{
		{0x098E, 0xC92F,},	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_AP_GAIN]
		{0xC92F, 0x03, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_GAIN
		{0xC930, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_THRESH
		{0x326C, 0x0B0C,},				//APERTURE_PARAMETER_2D
	},
	//Sharpness -3
	{
		{0x098E, 0xC92F,},	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_AP_GAIN]
		{0xC92F, 0x04, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_GAIN
		{0xC930, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_THRESH
		{0x326C, 0x0C0C,},				//APERTURE_PARAMETER_2D

	},	
	//Sharpness -2
	{
		{0x098E, 0xC92F,},	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_AP_GAIN]
		{0xC92F, 0x05, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_GAIN
		{0xC930, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_THRESH
		{0x326C, 0x0D0C,},				//APERTURE_PARAMETER_2D

	},
	//Sharpness -1
	{
		{0x098E, 0xC92F,},	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_AP_GAIN]
		{0xC92F, 0x07, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_GAIN
		{0xC930, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_THRESH
		{0x326C, 0x0F0C,},				//APERTURE_PARAMETER_2D

	},
	//Sharpness 0
	{
		{0x098E, 0xC92F,},	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_AP_GAIN]
		{0xC92F, 0x04, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_GAIN
		{0xC930, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_THRESH
		{0x326C, 0x140C,},				//APERTURE_PARAMETER_2D

	},
	//Sharpness +1
	{
		{0x098E, 0xC92F,},	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_AP_GAIN]
		{0xC92F, 0x06, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_GAIN
		{0xC930, 0x0C, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_THRESH
		{0x326C, 0x160C,},				//APERTURE_PARAMETER_2D

	},
	//Sharpness +2
	{
		{0x098E, 0xC92F,},	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_AP_GAIN]
		{0xC92F, 0x05, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_GAIN
		{0xC930, 0x10, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_THRESH
		{0x326C, 0x1D10,},				//APERTURE_PARAMETER_2D

	},
	//Sharpness +3
	{
		{0x098E, 0xC92F,},	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_AP_GAIN]
		{0xC92F, 0x07, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_GAIN
		{0xC930, 0x10, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_THRESH
		{0x326C, 0x1F10,},				//APERTURE_PARAMETER_2D

	},
	//Sharpness +4
	{
		{0x098E, 0xC92F,},	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_AP_GAIN]
		{0xC92F, 0x05, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_GAIN
		{0xC930, 0x10, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_THRESH
		{0x326C, 0x2510,},				//APERTURE_PARAMETER_2D
	},
	//Sharpness +5
	{
		{0x098E, 0xC92F,},	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_AP_GAIN]
		{0xC92F, 0x03, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_GAIN
		{0xC930, 0x18, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_THRESH
		{0x326C, 0x3318,},				//APERTURE_PARAMETER_2D

	},
	//Sharpness +6
	{
		{0x098E, 0xC92F,}, 	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_AP_GAIN]
		{0xC92F, 0x04, MSM_CAMERA_I2C_BYTE_DATA}, 	//CAM_LL_START_AP_GAIN
		{0xC930, 0x18, MSM_CAMERA_I2C_BYTE_DATA},	//CAM_LL_START_AP_THRESH
		{0x326C, 0x3418,},				//APERTURE_PARAMETER_2D
	}	
};

static uint8_t mt9m114_sharpness_enum_map[] = {
	MSM_V4L2_SHARPNESS_L0,
	MSM_V4L2_SHARPNESS_L1,
	MSM_V4L2_SHARPNESS_L2,
	MSM_V4L2_SHARPNESS_L3,
	MSM_V4L2_SHARPNESS_L4,
	MSM_V4L2_SHARPNESS_L5,
	MSM_V4L2_SHARPNESS_L6,
	MSM_V4L2_SHARPNESS_L7,
	MSM_V4L2_SHARPNESS_L8,
	MSM_V4L2_SHARPNESS_L9,
	MSM_V4L2_SHARPNESS_L10,
	MSM_V4L2_SHARPNESS_L11,
	MSM_V4L2_SHARPNESS_L12,
};
static int32_t mt9m114_sensor_set_sharpness(struct msm_sensor_ctrl_t *s_ctrl, uint8_t sharpness)
{
	uint16_t size = 4;
	CDBG("+++\n");	
	sharpness /= 5;
	printk("write tbl mt9m114_sharpness_settings[%u], size = %u, sharpness = %d\n", mt9m114_sharpness_enum_map[sharpness], size, sharpness);

	return msm_camera_i2c_write_tbl(s_ctrl->sensor_i2c_client,
									mt9m114_sharpness[mt9m114_sharpness_enum_map[sharpness]],
									size,
									MSM_CAMERA_I2C_WORD_DATA);	

}
/*END Chaoyen_Wu@pegatron[2012.2.14][Enable front camera sharpness]*/
/*BEGIN Chaoyen_Wu@pegatron[2012.2.14][Enable front camera contrast]*/
static struct msm_camera_i2c_reg_conf mt9m114_contrast[][10] = {
	
	//Contrast -6
	{
		{0x098E, 0xC942,}, 			// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_CONTRAST_GRADIENT]
		{0xC942, 0x18, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_LL_START_CONTRAST_GRADIENT -- 24
	},
	//Contrast -5
	{
		{0x098E, 0xC942,}, 			// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_CONTRAST_GRADIENT]
		{0xC942, 0x1E, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_LL_START_CONTRAST_GRADIENT -- 30
	},
	//Contrast -4
	{
		{0x098E, 0xC942,}, 			// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_CONTRAST_GRADIENT]
		{0xC942, 0x24, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_LL_START_CONTRAST_GRADIENT -- 36
	},
	//Contrast -3
	{
		{0x098E, 0xC942,}, 			// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_CONTRAST_GRADIENT]
		{0xC942, 0x2A, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_LL_START_CONTRAST_GRADIENT -- 42
	},
	//Contrast -2
	{
		{0x098E, 0xC942,},		 	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_CONTRAST_GRADIENT]
		{0xC942, 0x30, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_LL_START_CONTRAST_GRADIENT -- 48
	},
	//Contrast -1
	{
		{0x098E, 0xC942,}, 			// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_CONTRAST_GRADIENT]
		{0xC942, 0x36, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_LL_START_CONTRAST_GRADIENT -- 54
	},
	//Contrast 0: default
	{
		{0x098E, 0xC942,},		 	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_CONTRAST_GRADIENT]
		{0xC942, 0x3C, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_LL_START_CONTRAST_GRADIENT -- 60
	},	
	//Contrast +1
	{
		{0x098E, 0xC942,},		 	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_CONTRAST_GRADIENT]
		{0xC942, 0x42, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_LL_START_CONTRAST_GRADIENT -- 66
	},
	//Contrast +2
	{
		{0x098E, 0xC942,},		 	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_CONTRAST_GRADIENT]
		{0xC942, 0x48, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_LL_START_CONTRAST_GRADIENT -- 72
	},
	//Contrast +3
	{
		{0x098E, 0xC942,},		 	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_CONTRAST_GRADIENT]
		{0xC942, 0x4E, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_LL_START_CONTRAST_GRADIENT -- 78
	},
	//Contrast +4
	{
		{0x098E, 0xC942,},		 	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_CONTRAST_GRADIENT]
		{0xC942, 0x54, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_LL_START_CONTRAST_GRADIENT -- 84
	},
	//Contrast +5
	{
		{0x098E, 0xC942,},		 	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_CONTRAST_GRADIENT]
		{0xC942, 0x5A, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_LL_START_CONTRAST_GRADIENT -- 90
	},		
	//Contrast +6
	{
		{0x098E, 0xC942,},		 	// LOGICAL_ADDRESS_ACCESS [CAM_LL_START_CONTRAST_GRADIENT]
		{0xC942, 0x60, MSM_CAMERA_I2C_BYTE_DATA}, // CAM_LL_START_CONTRAST_GRADIENT -- 96
	}
};
static uint8_t mt9m114_contrast_enum_map[] = {
	CAMERA_CONTRAST_LV0,
	CAMERA_CONTRAST_LV1,
	CAMERA_CONTRAST_LV2,
	CAMERA_CONTRAST_LV3,
	CAMERA_CONTRAST_LV4,
	CAMERA_CONTRAST_LV5,
	CAMERA_CONTRAST_LV6,
	CAMERA_CONTRAST_LV7,
	CAMERA_CONTRAST_LV8,
	CAMERA_CONTRAST_LV9,
	CAMERA_CONTRAST_LV10,
	CAMERA_CONTRAST_LV11,
	CAMERA_CONTRAST_LV12,
};
static int32_t mt9m114_sensor_set_contrast(struct msm_sensor_ctrl_t *s_ctrl, uint8_t contrast)
{
	uint16_t size = 2;
	CDBG("+++\n");	
	printk("write tbl mt9m114_contrast_settings[%u], size = %u, contrast = %d\n", mt9m114_contrast_enum_map[contrast], size, contrast);

	return msm_camera_i2c_write_tbl(s_ctrl->sensor_i2c_client,
									mt9m114_contrast[mt9m114_contrast_enum_map[contrast]],
									size,
									MSM_CAMERA_I2C_WORD_DATA);	

}
/*END Chaoyen_Wu@pegatron[2012.2.14][Enable front camera contrast]*/
/*BEGIN Chaoyen_Wu@pegatron[2012.2.15][Enable camera exposure compensation]*/
static struct msm_camera_i2c_reg_conf mt9m114_exp_compensation[][10] = {
	//EV-6: 75
	{
		{0x098E, 0x4C0A,},     // LOGICAL_ADDRESS_ACCESS [UVC_BRIGHTNESS_CONTROL]
		{0xCC0A, 0x001F,},     // UVC_BRIGHTNESS_CONTROL	
	},
	//EV-5: 85
	{
		{0x098E, 0x4C0A,},	   // LOGICAL_ADDRESS_ACCESS [UVC_BRIGHTNESS_CONTROL]
		{0xCC0A, 0x0022,}, 	   // UVC_BRIGHTNESS_CONTROL
	},
	//EV-4: 95
	{
		{0x098E, 0x4C0A,}, 	   // LOGICAL_ADDRESS_ACCESS [UVC_BRIGHTNESS_CONTROL]
		{0xCC0A, 0x0025,}, 	   // UVC_BRIGHTNESS_CONTROL
	},	
	//EV-3: 105
	{
		{0x098E, 0x4C0A,}, 		// LOGICAL_ADDRESS_ACCESS [UVC_BRIGHTNESS_CONTROL]
		{0xCC0A, 0x002A,}, 		// UVC_BRIGHTNESS_CONTROL
	},
	//EV-2: 115
	{
		{0x098E, 0x4C0A,}, 		// LOGICAL_ADDRESS_ACCESS [UVC_BRIGHTNESS_CONTROL]
		{0xCC0A, 0x002E,}, 		// UVC_BRIGHTNESS_CONTROL
	},	
	//EV-1: 125
	{
		{0x098E, 0x4C0A,}, 		// LOGICAL_ADDRESS_ACCESS [UVC_BRIGHTNESS_CONTROL]
		{0xCC0A, 0x0032,}, 		// UVC_BRIGHTNESS_CONTROL
	},
	//EV0: 135 -- default
	{
		{0x098E, 0x4C0A,}, 		// LOGICAL_ADDRESS_ACCESS [UVC_BRIGHTNESS_CONTROL]
		{0xCC0A, 0x0037,}, 		// UVC_BRIGHTNESS_CONTROL
	},
	//EV+1: 145
	{
		{0x098E, 0x4C0A,}, 		// LOGICAL_ADDRESS_ACCESS [UVC_BRIGHTNESS_CONTROL]
		{0xCC0A, 0x003F,}, 		// UVC_BRIGHTNESS_CONTROL
	},
	//EV+2: 155
	{
		{0x098E, 0x4C0A,}, 		// LOGICAL_ADDRESS_ACCESS [UVC_BRIGHTNESS_CONTROL]
		{0xCC0A, 0x0047,}, 		// UVC_BRIGHTNESS_CONTROL
	},	
	//EV+3: 165
	{
		{0x098E, 0x4C0A,}, 		// LOGICAL_ADDRESS_ACCESS [UVC_BRIGHTNESS_CONTROL]
		{0xCC0A, 0x004E,}, 		// UVC_BRIGHTNESS_CONTROL
	},	
	//EV+4: 175
	{
		{0x098E, 0x4C0A,}, 		// LOGICAL_ADDRESS_ACCESS [UVC_BRIGHTNESS_CONTROL]
		{0xCC0A, 0x0055,}, 		// UVC_BRIGHTNESS_CONTROL
	},
	//EV+5: 185
	{
		{0x098E, 0x4C0A,}, 		// LOGICAL_ADDRESS_ACCESS [UVC_BRIGHTNESS_CONTROL]
		{0xCC0A, 0x005F,}, 		// UVC_BRIGHTNESS_CONTROL
	},	
	//EV+6: 195
	{
		{0x098E, 0x4C0A,}, 		// LOGICAL_ADDRESS_ACCESS [UVC_BRIGHTNESS_CONTROL]
		{0xCC0A, 0x006E,},		// UVC_BRIGHTNESS_CONTROL
	}	
};
static uint8_t mt9m114_exp_compensation_enum_map[] = {
	0,	  	
	1,    
	2,    
	3,    
	4,   
	5,
	6,
	7,
	8,
	9,
	10,
	11,
	12,
};
static int32_t mt9m114_sensor_set_exp_compensation(struct msm_sensor_ctrl_t *s_ctrl, uint32_t exp_compensation)
{
	uint16_t size = 2;
	int16_t numerator16 = (exp_compensation & 0xffff0000) >> 16;

	uint8_t val = (uint8_t)(numerator16 + 6);

	if (numerator16 < -6 || val >= ARRAY_SIZE(mt9m114_exp_compensation_enum_map)) {
		CDBG("Not supported: %d\n", numerator16);
		return 0;
	}

	CDBG("+++\n");	
	printk("write tbl mt9m114_exp_compensation_settings[%u], size = %u, exp_compensation = %d\n", mt9m114_exp_compensation_enum_map[val], size, val);
	return msm_camera_i2c_write_tbl(s_ctrl->sensor_i2c_client,
									mt9m114_exp_compensation[mt9m114_exp_compensation_enum_map[val]],
									size,
									MSM_CAMERA_I2C_WORD_DATA);	

}
/*END Chaoyen_Wu@pegatron[2012.2.15][Enable camera exposure compensation]*/
/*BEGIN Chaoyen_Wu@pegatron[2012.2.15][Enable camera anti-banding]*/
static struct msm_camera_i2c_reg_conf mt9m114_antibanding[][10] = {
	//off
	{
		{0x098E, 0xCC03,}, 							// LOGICAL_ADDRESS_ACCESS [UVC_POWER_LINE_FREQUENCY_CONTROL]
		{0xCC03, 0x00,MSM_CAMERA_I2C_BYTE_DATA},	// UVC_POWER_LINE_FREQUENCY_CONTROL
	},
	//[60Hz]
	{
		{0x098E, 0xCC03,}, 							// LOGICAL_ADDRESS_ACCESS [UVC_POWER_LINE_FREQUENCY_CONTROL]
		{0xCC03, 0x02,MSM_CAMERA_I2C_BYTE_DATA},	// UVC_POWER_LINE_FREQUENCY_CONTROL
	},
	
	//[50Hz]
	{
		{0x098E, 0xCC03,}, 							// LOGICAL_ADDRESS_ACCESS [UVC_POWER_LINE_FREQUENCY_CONTROL]
		{0xCC03, 0x01,MSM_CAMERA_I2C_BYTE_DATA},	// UVC_POWER_LINE_FREQUENCY_CONTROL

	},

};
static uint8_t mt9m114_antibanding_enum_map[] = {
	CAMERA_ANTIBANDING_OFF,	    //off	
	CAMERA_ANTIBANDING_60HZ,    //60Hz
	CAMERA_ANTIBANDING_50HZ,    //50Hz
};
static int32_t mt9m114_sensor_set_antibanding(struct msm_sensor_ctrl_t *s_ctrl, uint8_t antibanding)
{
	uint16_t size = 2;
	CDBG("+++\n");	
	printk("write tbl mt9m114_antibanding_settings[%u], size = %u, antibanding = %d\n", mt9m114_antibanding_enum_map[antibanding], size, antibanding);

	return msm_camera_i2c_write_tbl(s_ctrl->sensor_i2c_client,
									mt9m114_antibanding[mt9m114_antibanding_enum_map[antibanding]],
									size,
									MSM_CAMERA_I2C_WORD_DATA);	

}

/*END Chaoyen_Wu@pegatron[2012.2.15][Enable camera anti-banding]*/

static struct msm_sensor_output_info_t mt9m114_dimensions[] = {
	{
		.x_output = 0x0500,
/*BEGIN Chaoyen_Wu@pegatron[2012.3.16][Enable front camera support 1280*960 resolution]*/				
		.y_output = 0x03C0,           //0x2D0
		.line_length_pclk = 0x0500,
		.frame_length_lines = 0x03C0, //0x2D0
/*END Chaoyen_Wu@pegatron[2012.3.16][Enable front camera support 1280*960 resolution]*/		
		.vt_pixel_clk = 48000000,
		.op_pixel_clk = 128000000,
		.binning_factor = 1,
	},
};

static struct msm_camera_csid_vc_cfg mt9m114_cid_cfg[] = {
	{0, CSI_YUV422_8, CSI_DECODE_8BIT},
	{1, CSI_EMBED_DATA, CSI_DECODE_8BIT},
};

static struct msm_camera_csi2_params mt9m114_csi_params = {
	.csid_params = {
		.lane_assign = 0xe4,
		.lane_cnt = 1,
		.lut_params = {
			.num_cid = 2,
			.vc_cfg = mt9m114_cid_cfg,
		},
	},
	.csiphy_params = {
		.lane_cnt = 1,
		.settle_cnt = 0x14,
	},
};

static struct msm_camera_csi2_params *mt9m114_csi_params_array[] = {
	&mt9m114_csi_params,
	&mt9m114_csi_params,
};

static struct msm_sensor_output_reg_addr_t mt9m114_reg_addr = {
	.x_output = 0xC868,
	.y_output = 0xC86A,	
	.line_length_pclk = 0xC868,
	.frame_length_lines = 0xC86A,
};

static struct msm_sensor_id_info_t mt9m114_id_info = {
	.sensor_id_reg_addr = 0x0,
	.sensor_id = 0x2481,
};

static const struct i2c_device_id mt9m114_i2c_id[] = {
	{SENSOR_NAME, (kernel_ulong_t)&mt9m114_s_ctrl},
	{ }
};

static struct i2c_driver mt9m114_i2c_driver = {
	.id_table = mt9m114_i2c_id,
	.probe  = msm_sensor_i2c_probe,
	.driver = {
		.name = SENSOR_NAME,
	},
};

static struct msm_camera_i2c_client mt9m114_sensor_i2c_client = {
	.addr_type = MSM_CAMERA_I2C_WORD_ADDR,
};

static int __init msm_sensor_init_module(void)
{
	return i2c_add_driver(&mt9m114_i2c_driver);
}

static struct v4l2_subdev_core_ops mt9m114_subdev_core_ops = {
	.s_ctrl = msm_sensor_v4l2_s_ctrl,
	.queryctrl = msm_sensor_v4l2_query_ctrl,
	.ioctl = msm_sensor_subdev_ioctl,
	.s_power = msm_sensor_power,
};

static struct v4l2_subdev_video_ops mt9m114_subdev_video_ops = {
	.enum_mbus_fmt = msm_sensor_v4l2_enum_fmt,
};

static struct v4l2_subdev_ops mt9m114_subdev_ops = {
	.core = &mt9m114_subdev_core_ops,
	.video  = &mt9m114_subdev_video_ops,
};

static struct msm_sensor_fn_t mt9m114_func_tbl = {
	.sensor_start_stream = msm_sensor_start_stream,
	.sensor_stop_stream = mt9m114_stop_stream,
	.sensor_setting = msm_sensor_setting,
	.sensor_set_sensor_mode = msm_sensor_set_sensor_mode,
	.sensor_mode_init = msm_sensor_mode_init,
	.sensor_get_output_info = msm_sensor_get_output_info,
	.sensor_config = msm_sensor_config,
	.sensor_power_up = msm_sensor_power_up,
	.sensor_power_down = msm_sensor_power_down,
	/*BEGIN Chaoyen_Wu@pegatron[2012.2.8][Enable front camera white balance]*/
	.sensor_set_wb = mt9m114_sensor_set_wb,
	/*END Chaoyen_Wu@pegatron[2012.2.8][Enable front camera white balance]*/	
	/*BEGIN Chaoyen@pegatron[2012.2.8][enable front camera effect]*/
	.sensor_set_effect = mt9m114_sensor_set_effect,
	/*END Chaoyen_Wu@pegatron[2012.2.8][enable front camera effect]*/
	/*BEGIN Chaoyen_Wu@pegatron[2012.2.13][Enable front camera saturation]*/
	.sensor_set_saturation = mt9m114_sensor_set_saturation,
	/*END Chaoyen_Wu@pegatron[2012.2.13][Enable front camera saturation]*/
	/*BEGIN Chaoyen_Wu@pegatron[2012.2.14][Enable front camera sharpness]*/
	.sensor_set_sharpness = mt9m114_sensor_set_sharpness,
	/*END Chaoyen_Wu@pegatron[2012.2.14][Enable front camera sharpness]*/
	/*BEGIN Chaoyen_Wu@pegatron[2012.2.14][Enable front camera contrast]*/
	.sensor_set_contrast = mt9m114_sensor_set_contrast,
	/*END Chaoyen_Wu@pegatron[2012.2.14][Enable front camera contrast]*/
	/*BEGIN Chaoyen_Wu@pegatron[2012.2.15][Enable camera exposure compensation]*/
	.sensor_set_exp_compensation = mt9m114_sensor_set_exp_compensation,
	/*END Chaoyen_Wu@pegatron[2012.2.15][Enable camera exposure compensation]*/
	/*BEGIN Chaoyen_Wu@pegatron[2012.2.15][Enable camera anti-banding]*/
	.sensor_set_antibanding = mt9m114_sensor_set_antibanding,
	/*END Chaoyen_Wu@pegatron[2012.2.15][Enable camera anti-banding]*/	
};

static struct msm_sensor_reg_t mt9m114_regs = {
	.default_data_type = MSM_CAMERA_I2C_BYTE_DATA,
	.start_stream_conf = mt9m114_config_change_settings,
	.start_stream_conf_size = ARRAY_SIZE(mt9m114_config_change_settings),
	.init_settings = &mt9m114_init_conf[0],
	.init_size = ARRAY_SIZE(mt9m114_init_conf),
/*BEGIN Chaoyen_Wu@pegatron[2012.4.12][Add Chicony module IQ]*/
	.init_settings_2 = &mt9m114_init_conf_2[0],
	.init_size_2 = ARRAY_SIZE(mt9m114_init_conf_2),
/*END Chaoyen_Wu@pegatron[2012.4.12][Add Chicony module IQ]*/		
	.mode_settings = &mt9m114_confs[0],
	.output_settings = &mt9m114_dimensions[0],
	.num_conf = ARRAY_SIZE(mt9m114_confs),
};

static struct msm_sensor_ctrl_t mt9m114_s_ctrl = {
	.msm_sensor_reg = &mt9m114_regs,
	/*
	.msm_sensor_v4l2_ctrl_info = mt9m114_v4l2_ctrl_info,
	.num_v4l2_ctrl = ARRAY_SIZE(mt9m114_v4l2_ctrl_info),
	*/
	.sensor_i2c_client = &mt9m114_sensor_i2c_client,
	.sensor_i2c_addr = 0x90,
	.sensor_i2c_addr_high = 0xBA,
	.sensor_output_reg_addr = &mt9m114_reg_addr,
	.sensor_id_info = &mt9m114_id_info,
	.cam_mode = MSM_SENSOR_MODE_INVALID,
	.csi_params = &mt9m114_csi_params_array[0],
	.msm_sensor_mutex = &mt9m114_mut,
	.sensor_i2c_driver = &mt9m114_i2c_driver,
	.sensor_v4l2_subdev_info = mt9m114_subdev_info,
	.sensor_v4l2_subdev_info_size = ARRAY_SIZE(mt9m114_subdev_info),
	.sensor_v4l2_subdev_ops = &mt9m114_subdev_ops,
	.func_tbl = &mt9m114_func_tbl,
/* BEGIN Chaoyen_Wu@pegatron [2012/03/08] [Init front camera drivers in 1032 codebase] */
	.clk_rate = MSM_SENSOR_MCLK_24HZ,
/* END Chaoyen_Wu@pegatron [2012/03/08] [Init front camera drivers in 1032 codebase] */	
};

module_init(msm_sensor_init_module);
MODULE_DESCRIPTION("Aptina 1.26MP YUV sensor driver");
MODULE_LICENSE("GPL v2");
